!function($){function getter(namespace,plugin,method){var methods=$[namespace][plugin].getter||[];return methods="string"==typeof methods?methods.split(/,?\s+/):methods,-1!=$.inArray(method,methods)}$.ui={plugin:{add:function(module,option,set){var proto=$.ui[module].prototype;for(var i in set)proto.plugins[i]=proto.plugins[i]||[],proto.plugins[i].push([option,set[i]])},call:function(instance,name,args){var set=instance.plugins[name];if(set)for(var i=0;i<set.length;i++)instance.options[set[i][0]]&&set[i][1].apply(instance.element,args)}},cssCache:{},css:function(name){if($.ui.cssCache[name])return $.ui.cssCache[name];var tmp=$('<div class="ui-gen">').addClass(name).css({position:"absolute",top:"-5000px",left:"-5000px",display:"block"}).appendTo("body");$.ui.cssCache[name]=!(/auto|default/.test(tmp.css("cursor"))&&!/^[1-9]/.test(tmp.css("height"))&&!/^[1-9]/.test(tmp.css("width"))&&/none/.test(tmp.css("backgroundImage"))&&/transparent|rgba\(0, 0, 0, 0\)/.test(tmp.css("backgroundColor")));try{$("body").get(0).removeChild(tmp.get(0))}catch(e){}return $.ui.cssCache[name]},disableSelection:function(el){$(el).attr("unselectable","on").css("MozUserSelect","none")},enableSelection:function(el){$(el).attr("unselectable","off").css("MozUserSelect","")},hasScroll:function(e,a){var scroll=/top/.test(a||"top")?"scrollTop":"scrollLeft",has=!1;return e[scroll]>0?!0:(e[scroll]=1,has=e[scroll]>0?!0:!1,e[scroll]=0,has)}};var _remove=$.fn.remove;$.fn.remove=function(){return $("*",this).add(this).triggerHandler("remove"),_remove.apply(this,arguments)},$.widget=function(name,prototype){var namespace=name.split(".")[0];name=name.split(".")[1],$.fn[name]=function(options){var isMethodCall="string"==typeof options,args=Array.prototype.slice.call(arguments,1);if(isMethodCall&&getter(namespace,name,options)){var instance=$.data(this[0],name);return instance?instance[options].apply(instance,args):void 0}return this.each(function(){var instance=$.data(this,name);isMethodCall&&instance&&$.isFunction(instance[options])?instance[options].apply(instance,args):isMethodCall||$.data(this,name,new $[namespace][name](this,options))})},$[namespace][name]=function(element,options){var self=this;this.widgetName=name,this.widgetBaseClass=namespace+"-"+name,this.options=$.extend({},$.widget.defaults,$[namespace][name].defaults,options),this.element=$(element).bind("setData."+name,function(e,key,value){return self.setData(key,value)}).bind("getData."+name,function(e,key){return self.getData(key)}).bind("remove",function(){return self.destroy()}),this.init()},$[namespace][name].prototype=$.extend({},$.widget.prototype,prototype)},$.widget.prototype={init:function(){},destroy:function(){this.element.removeData(this.widgetName)},getData:function(key){return this.options[key]},setData:function(key,value){this.options[key]=value,"disabled"==key&&this.element[value?"addClass":"removeClass"](this.widgetBaseClass+"-disabled")},enable:function(){this.setData("disabled",!1)},disable:function(){this.setData("disabled",!0)}},$.widget.defaults={disabled:!1},$.ui.mouse={mouseInit:function(){var self=this;this.element.bind("mousedown."+this.widgetName,function(e){return self.mouseDown(e)}),$.browser.msie&&(this._mouseUnselectable=this.element.attr("unselectable"),this.element.attr("unselectable","on")),this.started=!1},mouseDestroy:function(){this.element.unbind("."+this.widgetName),$.browser.msie&&this.element.attr("unselectable",this._mouseUnselectable)},mouseDown:function(e){this._mouseStarted&&this.mouseUp(e),this._mouseDownEvent=e;var self=this,btnIsLeft=1==e.which,elIsCancel="string"==typeof this.options.cancel?$(e.target).parents().add(e.target).filter(this.options.cancel).length:!1;return btnIsLeft&&!elIsCancel&&this.mouseCapture(e)?(this._mouseDelayMet=!this.options.delay,this._mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){self._mouseDelayMet=!0},this.options.delay)),this.mouseDistanceMet(e)&&this.mouseDelayMet(e)&&(this._mouseStarted=this.mouseStart(e)!==!1,!this._mouseStarted)?(e.preventDefault(),!0):(this._mouseMoveDelegate=function(e){return self.mouseMove(e)},this._mouseUpDelegate=function(e){return self.mouseUp(e)},$(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),!1)):!0},mouseMove:function(e){return $.browser.msie&&!e.button?this.mouseUp(e):this._mouseStarted?(this.mouseDrag(e),!1):(this.mouseDistanceMet(e)&&this.mouseDelayMet(e)&&(this._mouseStarted=this.mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this.mouseDrag(e):this.mouseUp(e)),!this._mouseStarted)},mouseUp:function(e){return $(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,this.mouseStop(e)),!1},mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},mouseDelayMet:function(){return this._mouseDelayMet},mouseStart:function(){},mouseDrag:function(){},mouseStop:function(){},mouseCapture:function(){return!0}},$.ui.mouse.defaults={cancel:null,distance:1,delay:0}}(jQuery),function($){$.widget("ui.draggable",$.extend({},$.ui.mouse,{init:function(){var o=this.options;"original"!=o.helper||/(relative|absolute|fixed)/.test(this.element.css("position"))||this.element.css("position","relative"),this.element.addClass("ui-draggable"),o.disabled&&this.element.addClass("ui-draggable-disabled"),this.mouseInit()},mouseStart:function(e){var o=this.options;if(this.helper||o.disabled||$(e.target).is(".ui-resizable-handle"))return!1;var handle=this.options.handle&&$(this.options.handle,this.element).length?!1:!0;if($(this.options.handle,this.element).find("*").andSelf().each(function(){this==e.target&&(handle=!0)}),!handle)return!1;$.ui.ddmanager&&($.ui.ddmanager.current=this),this.helper=$.isFunction(o.helper)?$(o.helper.apply(this.element[0],[e])):"clone"==o.helper?this.element.clone():this.element,this.helper.parents("body").length||this.helper.appendTo("parent"==o.appendTo?this.element[0].parentNode:o.appendTo),this.helper[0]==this.element[0]||/(fixed|absolute)/.test(this.helper.css("position"))||this.helper.css("position","absolute"),this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0},this.cssPosition=this.helper.css("position"),this.offset=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},this.offsetParent=this.helper.offsetParent();var po=this.offsetParent.offset();this.offsetParent[0]==document.body&&$.browser.mozilla&&(po={top:0,left:0}),this.offset.parent={top:po.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:po.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)};var p=this.element.position();if(this.offset.relative="relative"==this.cssPosition?{top:p.top-(parseInt(this.helper.css("top"),10)||0)+this.offsetParent[0].scrollTop,left:p.left-(parseInt(this.helper.css("left"),10)||0)+this.offsetParent[0].scrollLeft}:{top:0,left:0},this.originalPosition=this.generatePosition(e),this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()},o.cursorAt&&(void 0!=o.cursorAt.left&&(this.offset.click.left=o.cursorAt.left+this.margins.left),void 0!=o.cursorAt.right&&(this.offset.click.left=this.helperProportions.width-o.cursorAt.right+this.margins.left),void 0!=o.cursorAt.top&&(this.offset.click.top=o.cursorAt.top+this.margins.top),void 0!=o.cursorAt.bottom&&(this.offset.click.top=this.helperProportions.height-o.cursorAt.bottom+this.margins.top)),o.containment&&("parent"==o.containment&&(o.containment=this.helper[0].parentNode),("document"==o.containment||"window"==o.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,$("document"==o.containment?document:window).width()-this.offset.relative.left-this.offset.parent.left-this.helperProportions.width-this.margins.left-(parseInt(this.element.css("marginRight"),10)||0),($("document"==o.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.offset.relative.top-this.offset.parent.top-this.helperProportions.height-this.margins.top-(parseInt(this.element.css("marginBottom"),10)||0)]),!/^(document|window|parent)$/.test(o.containment))){var ce=$(o.containment)[0],co=$(o.containment).offset();this.containment=[co.left+(parseInt($(ce).css("borderLeftWidth"),10)||0)-this.offset.relative.left-this.offset.parent.left,co.top+(parseInt($(ce).css("borderTopWidth"),10)||0)-this.offset.relative.top-this.offset.parent.top,co.left+Math.max(ce.scrollWidth,ce.offsetWidth)-(parseInt($(ce).css("borderLeftWidth"),10)||0)-this.offset.relative.left-this.offset.parent.left-this.helperProportions.width-this.margins.left-(parseInt(this.element.css("marginRight"),10)||0),co.top+Math.max(ce.scrollHeight,ce.offsetHeight)-(parseInt($(ce).css("borderTopWidth"),10)||0)-this.offset.relative.top-this.offset.parent.top-this.helperProportions.height-this.margins.top-(parseInt(this.element.css("marginBottom"),10)||0)]}return this.propagate("start",e),this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()},$.ui.ddmanager&&!o.dropBehaviour&&$.ui.ddmanager.prepareOffsets(this,e),this.helper.addClass("ui-draggable-dragging"),this.mouseDrag(e),!0},convertPositionTo:function(d,pos){pos||(pos=this.position);var mod="absolute"==d?1:-1;return{top:pos.top+this.offset.relative.top*mod+this.offset.parent.top*mod-("fixed"==this.cssPosition||"absolute"==this.cssPosition&&this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)*mod+("fixed"==this.cssPosition?$(document).scrollTop():0)*mod+this.margins.top*mod,left:pos.left+this.offset.relative.left*mod+this.offset.parent.left*mod-("fixed"==this.cssPosition||"absolute"==this.cssPosition&&this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft)*mod+("fixed"==this.cssPosition?$(document).scrollLeft():0)*mod+this.margins.left*mod}},generatePosition:function(e){var o=this.options,position={top:e.pageY-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"==this.cssPosition||"absolute"==this.cssPosition&&this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)-("fixed"==this.cssPosition?$(document).scrollTop():0),left:e.pageX-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"==this.cssPosition||"absolute"==this.cssPosition&&this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft)-("fixed"==this.cssPosition?$(document).scrollLeft():0)};if(!this.originalPosition)return position;if(this.containment&&(position.left<this.containment[0]&&(position.left=this.containment[0]),position.top<this.containment[1]&&(position.top=this.containment[1]),position.left>this.containment[2]&&(position.left=this.containment[2]),position.top>this.containment[3]&&(position.top=this.containment[3])),o.grid){var top=this.originalPosition.top+Math.round((position.top-this.originalPosition.top)/o.grid[1])*o.grid[1];position.top=this.containment?top<this.containment[1]||top>this.containment[3]?top<this.containment[1]?top+o.grid[1]:top-o.grid[1]:top:top;var left=this.originalPosition.left+Math.round((position.left-this.originalPosition.left)/o.grid[0])*o.grid[0];position.left=this.containment?left<this.containment[0]||left>this.containment[2]?left<this.containment[0]?left+o.grid[0]:left-o.grid[0]:left:left}return position},mouseDrag:function(e){return this.position=this.generatePosition(e),this.positionAbs=this.convertPositionTo("absolute"),this.position=this.propagate("drag",e)||this.position,this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px"),$.ui.ddmanager&&$.ui.ddmanager.drag(this,e),!1},mouseStop:function(e){var dropped=!1;if($.ui.ddmanager&&!this.options.dropBehaviour)var dropped=$.ui.ddmanager.drop(this,e);if("invalid"==this.options.revert&&!dropped||"valid"==this.options.revert&&dropped||this.options.revert===!0){var self=this;$(this.helper).animate(this.originalPosition,parseInt(this.options.revert,10)||500,function(){self.propagate("stop",e),self.clear()})}else this.propagate("stop",e),this.clear();return!1},clear:function(){this.helper.removeClass("ui-draggable-dragging"),"original"==this.options.helper||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},plugins:{},uiHash:function(){return{helper:this.helper,position:this.position,absolutePosition:this.positionAbs,options:this.options}},propagate:function(n,e){return $.ui.plugin.call(this,n,[e,this.uiHash()]),"drag"==n&&(this.positionAbs=this.convertPositionTo("absolute")),this.element.triggerHandler("drag"==n?n:"drag"+n,[e,this.uiHash()],this.options[n])},destroy:function(){this.element.data("draggable")&&(this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable"),this.mouseDestroy())}})),$.extend($.ui.draggable,{defaults:{appendTo:"parent",axis:!1,cancel:":input",delay:0,distance:1,helper:"original"}}),$.ui.plugin.add("draggable","cursor",{start:function(e,ui){var t=$("body");t.css("cursor")&&(ui.options._cursor=t.css("cursor")),t.css("cursor",ui.options.cursor)},stop:function(e,ui){ui.options._cursor&&$("body").css("cursor",ui.options._cursor)}}),$.ui.plugin.add("draggable","zIndex",{start:function(e,ui){var t=$(ui.helper);t.css("zIndex")&&(ui.options._zIndex=t.css("zIndex")),t.css("zIndex",ui.options.zIndex)},stop:function(e,ui){ui.options._zIndex&&$(ui.helper).css("zIndex",ui.options._zIndex)}}),$.ui.plugin.add("draggable","opacity",{start:function(e,ui){var t=$(ui.helper);t.css("opacity")&&(ui.options._opacity=t.css("opacity")),t.css("opacity",ui.options.opacity)},stop:function(e,ui){ui.options._opacity&&$(ui.helper).css("opacity",ui.options._opacity)}}),$.ui.plugin.add("draggable","iframeFix",{start:function(e,ui){$(ui.options.iframeFix===!0?"iframe":ui.options.iframeFix).each(function(){$('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css($(this).offset()).appendTo("body")})},stop:function(){$("div.DragDropIframeFix").each(function(){this.parentNode.removeChild(this)})}}),$.ui.plugin.add("draggable","scroll",{start:function(e,ui){var o=ui.options,i=$(this).data("draggable");o.scrollSensitivity=o.scrollSensitivity||20,o.scrollSpeed=o.scrollSpeed||20,i.overflowY=function(el){do{if(/auto|scroll/.test(el.css("overflow"))||/auto|scroll/.test(el.css("overflow-y")))return el;el=el.parent()}while(el[0].parentNode);return $(document)}(this),i.overflowX=function(el){do{if(/auto|scroll/.test(el.css("overflow"))||/auto|scroll/.test(el.css("overflow-x")))return el;el=el.parent()}while(el[0].parentNode);return $(document)}(this),i.overflowY[0]!=document&&"HTML"!=i.overflowY[0].tagName&&(i.overflowYOffset=i.overflowY.offset()),i.overflowX[0]!=document&&"HTML"!=i.overflowX[0].tagName&&(i.overflowXOffset=i.overflowX.offset())},drag:function(e,ui){var o=ui.options,i=$(this).data("draggable");i.overflowY[0]!=document&&"HTML"!=i.overflowY[0].tagName?(i.overflowYOffset.top+i.overflowY[0].offsetHeight-e.pageY<o.scrollSensitivity&&(i.overflowY[0].scrollTop=i.overflowY[0].scrollTop+o.scrollSpeed),e.pageY-i.overflowYOffset.top<o.scrollSensitivity&&(i.overflowY[0].scrollTop=i.overflowY[0].scrollTop-o.scrollSpeed)):(e.pageY-$(document).scrollTop()<o.scrollSensitivity&&$(document).scrollTop($(document).scrollTop()-o.scrollSpeed),$(window).height()-(e.pageY-$(document).scrollTop())<o.scrollSensitivity&&$(document).scrollTop($(document).scrollTop()+o.scrollSpeed)),i.overflowX[0]!=document&&"HTML"!=i.overflowX[0].tagName?(i.overflowXOffset.left+i.overflowX[0].offsetWidth-e.pageX<o.scrollSensitivity&&(i.overflowX[0].scrollLeft=i.overflowX[0].scrollLeft+o.scrollSpeed),e.pageX-i.overflowXOffset.left<o.scrollSensitivity&&(i.overflowX[0].scrollLeft=i.overflowX[0].scrollLeft-o.scrollSpeed)):(e.pageX-$(document).scrollLeft()<o.scrollSensitivity&&$(document).scrollLeft($(document).scrollLeft()-o.scrollSpeed),$(window).width()-(e.pageX-$(document).scrollLeft())<o.scrollSensitivity&&$(document).scrollLeft($(document).scrollLeft()+o.scrollSpeed))}}),$.ui.plugin.add("draggable","snap",{start:function(e,ui){var inst=$(this).data("draggable");inst.snapElements=[],$(ui.options.snap===!0?".ui-draggable":ui.options.snap).each(function(){var $t=$(this),$o=$t.offset();this!=inst.element[0]&&inst.snapElements.push({item:this,width:$t.outerWidth(),height:$t.outerHeight(),top:$o.top,left:$o.left})})},drag:function(e,ui){for(var inst=$(this).data("draggable"),d=ui.options.snapTolerance||20,x1=ui.absolutePosition.left,x2=x1+inst.helperProportions.width,y1=ui.absolutePosition.top,y2=y1+inst.helperProportions.height,i=inst.snapElements.length-1;i>=0;i--){var l=inst.snapElements[i].left,r=l+inst.snapElements[i].width,t=inst.snapElements[i].top,b=t+inst.snapElements[i].height;if(x1>l-d&&r+d>x1&&y1>t-d&&b+d>y1||x1>l-d&&r+d>x1&&y2>t-d&&b+d>y2||x2>l-d&&r+d>x2&&y1>t-d&&b+d>y1||x2>l-d&&r+d>x2&&y2>t-d&&b+d>y2){if("inner"!=ui.options.snapMode){var ts=Math.abs(t-y2)<=20,bs=Math.abs(b-y1)<=20,ls=Math.abs(l-x2)<=20,rs=Math.abs(r-x1)<=20;ts&&(ui.position.top=inst.convertPositionTo("relative",{top:t-inst.helperProportions.height,left:0}).top),bs&&(ui.position.top=inst.convertPositionTo("relative",{top:b,left:0}).top),ls&&(ui.position.left=inst.convertPositionTo("relative",{top:0,left:l-inst.helperProportions.width}).left),rs&&(ui.position.left=inst.convertPositionTo("relative",{top:0,left:r}).left)}if("outer"!=ui.options.snapMode){var ts=Math.abs(t-y1)<=20,bs=Math.abs(b-y2)<=20,ls=Math.abs(l-x1)<=20,rs=Math.abs(r-x2)<=20;ts&&(ui.position.top=inst.convertPositionTo("relative",{top:t,left:0}).top),bs&&(ui.position.top=inst.convertPositionTo("relative",{top:b-inst.helperProportions.height,left:0}).top),ls&&(ui.position.left=inst.convertPositionTo("relative",{top:0,left:l}).left),rs&&(ui.position.left=inst.convertPositionTo("relative",{top:0,left:r-inst.helperProportions.width}).left)}}}}}),$.ui.plugin.add("draggable","connectToSortable",{start:function(e,ui){var inst=$(this).data("draggable");inst.sortables=[],$(ui.options.connectToSortable).each(function(){if($.data(this,"sortable")){var sortable=$.data(this,"sortable");inst.sortables.push({instance:sortable,shouldRevert:sortable.options.revert}),sortable.refreshItems(),sortable.propagate("activate",e,inst)}})},stop:function(e){var inst=$(this).data("draggable");$.each(inst.sortables,function(){this.instance.isOver?(this.instance.isOver=0,inst.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance.mouseStop(e),this.instance.element.triggerHandler("sortreceive",[e,$.extend(this.instance.ui(),{sender:inst.element})],this.instance.options.receive),this.instance.options.helper=this.instance.options._helper):this.instance.propagate("deactivate",e,inst)})},drag:function(e,ui){var inst=$(this).data("draggable"),self=this,checkPos=function(o){var l=o.left,r=l+o.width,t=o.top,b=t+o.height;return l<this.positionAbs.left+this.offset.click.left&&this.positionAbs.left+this.offset.click.left<r&&t<this.positionAbs.top+this.offset.click.top&&this.positionAbs.top+this.offset.click.top<b};$.each(inst.sortables,function(){checkPos.call(inst,this.instance.containerCache)?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=$(self).clone().appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return ui.helper[0]},e.target=this.instance.currentItem[0],this.instance.mouseCapture(e,!0),this.instance.mouseStart(e,!0,!0),this.instance.offset.click.top=inst.offset.click.top,this.instance.offset.click.left=inst.offset.click.left,this.instance.offset.parent.left-=inst.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=inst.offset.parent.top-this.instance.offset.parent.top,inst.propagate("toSortable",e)),this.instance.currentItem&&this.instance.mouseDrag(e)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance.mouseStop(e,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),inst.propagate("fromSortable",e))})}}),$.ui.plugin.add("draggable","stack",{start:function(e,ui){var group=$.makeArray($(ui.options.stack.group)).sort(function(a,b){return(parseInt($(a).css("zIndex"),10)||ui.options.stack.min)-(parseInt($(b).css("zIndex"),10)||ui.options.stack.min)});$(group).each(function(i){this.style.zIndex=ui.options.stack.min+i}),this[0].style.zIndex=ui.options.stack.min+group.length}})}(jQuery),function($){$.widget("ui.droppable",{init:function(){this.element.addClass("ui-droppable"),this.isover=0,this.isout=1;var o=this.options,accept=o.accept;o=$.extend(o,{accept:o.accept&&o.accept.constructor==Function?o.accept:function(d){return $(d).is(accept)}}),this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},$.ui.ddmanager.droppables.push(this)},plugins:{},ui:function(c){return{draggable:c.currentItem||c.element,helper:c.helper,position:c.position,absolutePosition:c.positionAbs,options:this.options,element:this.element}},destroy:function(){for(var drop=$.ui.ddmanager.droppables,i=0;i<drop.length;i++)drop[i]==this&&drop.splice(i,1);this.element.removeClass("ui-droppable ui-droppable-disabled").removeData("droppable").unbind(".droppable")},over:function(e){var draggable=$.ui.ddmanager.current;draggable&&(draggable.currentItem||draggable.element)[0]!=this.element[0]&&this.options.accept.call(this.element,draggable.currentItem||draggable.element)&&($.ui.plugin.call(this,"over",[e,this.ui(draggable)]),this.element.triggerHandler("dropover",[e,this.ui(draggable)],this.options.over))},out:function(e){var draggable=$.ui.ddmanager.current;draggable&&(draggable.currentItem||draggable.element)[0]!=this.element[0]&&this.options.accept.call(this.element,draggable.currentItem||draggable.element)&&($.ui.plugin.call(this,"out",[e,this.ui(draggable)]),this.element.triggerHandler("dropout",[e,this.ui(draggable)],this.options.out))},drop:function(e,custom){var draggable=custom||$.ui.ddmanager.current;if(!draggable||(draggable.currentItem||draggable.element)[0]==this.element[0])return!1;var childrenIntersection=!1;return this.element.find(".ui-droppable").not(".ui-draggable-dragging").each(function(){var inst=$.data(this,"droppable");return inst.options.greedy&&$.ui.intersect(draggable,$.extend(inst,{offset:inst.element.offset()}),inst.options.tolerance)?(childrenIntersection=!0,!1):void 0}),childrenIntersection?!1:this.options.accept.call(this.element,draggable.currentItem||draggable.element)?($.ui.plugin.call(this,"drop",[e,this.ui(draggable)]),this.element.triggerHandler("drop",[e,this.ui(draggable)],this.options.drop),!0):!1},activate:function(e){var draggable=$.ui.ddmanager.current;$.ui.plugin.call(this,"activate",[e,this.ui(draggable)]),draggable&&this.element.triggerHandler("dropactivate",[e,this.ui(draggable)],this.options.activate)},deactivate:function(e){var draggable=$.ui.ddmanager.current;$.ui.plugin.call(this,"deactivate",[e,this.ui(draggable)]),draggable&&this.element.triggerHandler("dropdeactivate",[e,this.ui(draggable)],this.options.deactivate)}}),$.extend($.ui.droppable,{defaults:{disabled:!1,tolerance:"intersect"}}),$.ui.intersect=function(draggable,droppable,toleranceMode){if(!droppable.offset)return!1;var x1=(draggable.positionAbs||draggable.position.absolute).left,x2=x1+draggable.helperProportions.width,y1=(draggable.positionAbs||draggable.position.absolute).top,y2=y1+draggable.helperProportions.height,l=droppable.offset.left,r=l+droppable.proportions.width,t=droppable.offset.top,b=t+droppable.proportions.height;switch(toleranceMode){case"fit":return x1>l&&r>x2&&y1>t&&b>y2;case"intersect":return l<x1+draggable.helperProportions.width/2&&x2-draggable.helperProportions.width/2<r&&t<y1+draggable.helperProportions.height/2&&y2-draggable.helperProportions.height/2<b;case"pointer":return l<(draggable.positionAbs||draggable.position.absolute).left+(draggable.clickOffset||draggable.offset.click).left&&(draggable.positionAbs||draggable.position.absolute).left+(draggable.clickOffset||draggable.offset.click).left<r&&t<(draggable.positionAbs||draggable.position.absolute).top+(draggable.clickOffset||draggable.offset.click).top&&(draggable.positionAbs||draggable.position.absolute).top+(draggable.clickOffset||draggable.offset.click).top<b;case"touch":return(y1>=t&&b>=y1||y2>=t&&b>=y2||t>y1&&y2>b)&&(x1>=l&&r>=x1||x2>=l&&r>=x2||l>x1&&x2>r);default:return!1}},$.ui.ddmanager={current:null,droppables:[],prepareOffsets:function(t,e){for(var m=$.ui.ddmanager.droppables,type=e?e.type:null,i=0;i<m.length;i++)m[i].options.disabled||t&&!m[i].options.accept.call(m[i].element,t.currentItem||t.element)||(m[i].visible="none"!=m[i].element.css("display"),m[i].visible&&(m[i].offset=m[i].element.offset(),m[i].proportions={width:m[i].element[0].offsetWidth,height:m[i].element[0].offsetHeight},("dragstart"==type||"sortactivate"==type)&&m[i].activate.call(m[i],e)))},drop:function(draggable,e){var dropped=!1;return $.each($.ui.ddmanager.droppables,function(){this.options&&(!this.options.disabled&&this.visible&&$.ui.intersect(draggable,this,this.options.tolerance)&&(dropped=this.drop.call(this,e)),!this.options.disabled&&this.visible&&this.options.accept.call(this.element,draggable.currentItem||draggable.element)&&(this.isout=1,this.isover=0,this.deactivate.call(this,e)))}),dropped},drag:function(draggable,e){draggable.options.refreshPositions&&$.ui.ddmanager.prepareOffsets(draggable,e),$.each($.ui.ddmanager.droppables,function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var intersects=$.ui.intersect(draggable,this,this.options.tolerance),c=intersects||1!=this.isover?intersects&&0==this.isover?"isover":null:"isout";if(c){var parentInstance;if(this.options.greedy){var parent=this.element.parents(".ui-droppable:eq(0)");parent.length&&(parentInstance=$.data(parent[0],"droppable"),parentInstance.greedyChild="isover"==c?1:0)}parentInstance&&"isover"==c&&(parentInstance.isover=0,parentInstance.isout=1,parentInstance.out.call(parentInstance,e)),this[c]=1,this["isout"==c?"isover":"isout"]=0,this["isover"==c?"over":"out"].call(this,e),parentInstance&&"isout"==c&&(parentInstance.isout=0,parentInstance.isover=1,parentInstance.over.call(parentInstance,e))}}})}},$.ui.plugin.add("droppable","activeClass",{activate:function(e,ui){$(this).addClass(ui.options.activeClass)},deactivate:function(e,ui){$(this).removeClass(ui.options.activeClass)},drop:function(e,ui){$(this).removeClass(ui.options.activeClass)}}),$.ui.plugin.add("droppable","hoverClass",{over:function(e,ui){$(this).addClass(ui.options.hoverClass)},out:function(e,ui){$(this).removeClass(ui.options.hoverClass)},drop:function(e,ui){$(this).removeClass(ui.options.hoverClass)}})}(jQuery),function($){$.widget("ui.resizable",$.extend({},$.ui.mouse,{init:function(){var self=this,o=this.options,elpos=this.element.css("position");this.originalElement=this.element,this.element.addClass("ui-resizable").css({position:/static/.test(elpos)?"relative":elpos}),$.extend(o,{_aspectRatio:!!o.aspectRatio,helper:o.helper||o.ghost||o.animate?o.helper||"proxy":null,knobHandles:o.knobHandles===!0?"ui-resizable-knob-handle":o.knobHandles});var aBorder="1px solid #DEDEDE";if(o.defaultTheme={"ui-resizable":{display:"block"},"ui-resizable-handle":{position:"absolute",background:"#F2F2F2",fontSize:"0.1px"},"ui-resizable-n":{cursor:"n-resize",height:"4px",left:"0px",right:"0px",borderTop:aBorder},"ui-resizable-s":{cursor:"s-resize",height:"4px",left:"0px",right:"0px",borderBottom:aBorder},"ui-resizable-e":{cursor:"e-resize",width:"4px",top:"0px",bottom:"0px",borderRight:aBorder},"ui-resizable-w":{cursor:"w-resize",width:"4px",top:"0px",bottom:"0px",borderLeft:aBorder},"ui-resizable-se":{cursor:"se-resize",width:"4px",height:"4px",borderRight:aBorder,borderBottom:aBorder},"ui-resizable-sw":{cursor:"sw-resize",width:"4px",height:"4px",borderBottom:aBorder,borderLeft:aBorder},"ui-resizable-ne":{cursor:"ne-resize",width:"4px",height:"4px",borderRight:aBorder,borderTop:aBorder},"ui-resizable-nw":{cursor:"nw-resize",width:"4px",height:"4px",borderLeft:aBorder,borderTop:aBorder}},o.knobTheme={"ui-resizable-handle":{background:"#F2F2F2",border:"1px solid #808080",height:"8px",width:"8px"},"ui-resizable-n":{cursor:"n-resize",top:"0px",left:"45%"},"ui-resizable-s":{cursor:"s-resize",bottom:"0px",left:"45%"},"ui-resizable-e":{cursor:"e-resize",right:"0px",top:"45%"},"ui-resizable-w":{cursor:"w-resize",left:"0px",top:"45%"},"ui-resizable-se":{cursor:"se-resize",right:"0px",bottom:"0px"},"ui-resizable-sw":{cursor:"sw-resize",left:"0px",bottom:"0px"},"ui-resizable-nw":{cursor:"nw-resize",left:"0px",top:"0px"},"ui-resizable-ne":{cursor:"ne-resize",right:"0px",top:"0px"}},o._nodeName=this.element[0].nodeName,o._nodeName.match(/canvas|textarea|input|select|button|img/i)){var el=this.element;/relative/.test(el.css("position"))&&$.browser.opera&&el.css({position:"relative",top:"auto",left:"auto"}),el.wrap($('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:el.css("position"),width:el.outerWidth(),height:el.outerHeight(),top:el.css("top"),left:el.css("left")}));var oel=this.element;this.element=this.element.parent(),this.element.data("resizable",this),this.element.css({marginLeft:oel.css("marginLeft"),marginTop:oel.css("marginTop"),marginRight:oel.css("marginRight"),marginBottom:oel.css("marginBottom")}),oel.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),$.browser.safari&&o.preventDefault&&oel.css("resize","none"),o.proportionallyResize=oel.css({position:"static",zoom:1,display:"block"}),this.element.css({margin:oel.css("margin")}),this._proportionallyResize()}if(o.handles||(o.handles=$(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),o.handles.constructor==String){o.zIndex=o.zIndex||1e3,"all"==o.handles&&(o.handles="n,e,s,w,se,sw,ne,nw");var n=o.handles.split(",");o.handles={};for(var insertionsDefault={handle:"position: absolute; display: none; overflow:hidden;",n:"top: 0pt; width:100%;",e:"right: 0pt; height:100%;",s:"bottom: 0pt; width:100%;",w:"left: 0pt; height:100%;",se:"bottom: 0pt; right: 0px;",sw:"bottom: 0pt; left: 0px;",ne:"top: 0pt; right: 0px;",nw:"top: 0pt; left: 0px;"},i=0;i<n.length;i++){var handle=$.trim(n[i]),dt=o.defaultTheme,hname="ui-resizable-"+handle,loadDefault=!$.ui.css(hname)&&!o.knobHandles,userKnobClass=$.ui.css("ui-resizable-knob-handle"),allDefTheme=$.extend(dt[hname],dt["ui-resizable-handle"]),allKnobTheme=$.extend(o.knobTheme[hname],userKnobClass?{}:o.knobTheme["ui-resizable-handle"]),applyZIndex=/sw|se|ne|nw/.test(handle)?{zIndex:++o.zIndex}:{},defCss=loadDefault?insertionsDefault[handle]:"",axis=$(['<div class="ui-resizable-handle ',hname,'" style="',defCss,insertionsDefault.handle,'"></div>'].join("")).css(applyZIndex);o.handles[handle]=".ui-resizable-"+handle,this.element.append(axis.css(loadDefault?allDefTheme:{}).css(o.knobHandles?allKnobTheme:{}).addClass(o.knobHandles?"ui-resizable-knob-handle":"").addClass(o.knobHandles))}o.knobHandles&&this.element.addClass("ui-resizable-knob").css($.ui.css("ui-resizable-knob")?{}:{})}this._renderAxis=function(target){target=target||this.element;
for(var i in o.handles){if(o.handles[i].constructor==String&&(o.handles[i]=$(o.handles[i],this.element).show()),o.transparent&&o.handles[i].css({opacity:0}),this.element.is(".ui-wrapper")&&o._nodeName.match(/textarea|input|select|button/i)){var axis=$(o.handles[i],this.element),padWrapper=0;padWrapper=/sw|ne|nw|se|n|s/.test(i)?axis.outerHeight():axis.outerWidth();var padPos=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join("");o.transparent||target.css(padPos,padWrapper),this._proportionallyResize()}$(o.handles[i]).length}},this._renderAxis(this.element),o._handles=$(".ui-resizable-handle",self.element),o.disableSelection&&o._handles.each(function(i,e){$.ui.disableSelection(e)}),o._handles.mouseover(function(){if(!o.resizing){if(this.className)var axis=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);self.axis=o.axis=axis&&axis[1]?axis[1]:"se"}}),o.autoHide&&(o._handles.hide(),$(self.element).addClass("ui-resizable-autohide").hover(function(){$(this).removeClass("ui-resizable-autohide"),o._handles.show()},function(){o.resizing||($(this).addClass("ui-resizable-autohide"),o._handles.hide())})),this.mouseInit()},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,options:this.options,originalSize:this.originalSize,originalPosition:this.originalPosition}},propagate:function(n,e){$.ui.plugin.call(this,n,[e,this.ui()]),"resize"!=n&&this.element.triggerHandler(["resize",n].join(""),[e,this.ui()],this.options[n])},destroy:function(){var el=this.element,wrapped=el.children(".ui-resizable").get(0);this.mouseDestroy();var _destroy=function(exp){$(exp).removeClass("ui-resizable ui-resizable-disabled").removeData("resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};_destroy(el),el.is(".ui-wrapper")&&wrapped&&(el.parent().append($(wrapped).css({position:el.css("position"),width:el.outerWidth(),height:el.outerHeight(),top:el.css("top"),left:el.css("left")})).end().remove(),_destroy(wrapped))},mouseStart:function(e){if(this.options.disabled)return!1;var handle=!1;for(var i in this.options.handles)$(this.options.handles[i])[0]==e.target&&(handle=!0);if(!handle)return!1;var o=this.options,iniPos=this.element.position(),el=this.element,num=function(v){return parseInt(v,10)||0},ie6=$.browser.msie&&$.browser.version<7;if(o.resizing=!0,o.documentScroll={top:$(document).scrollTop(),left:$(document).scrollLeft()},el.is(".ui-draggable")||/absolute/.test(el.css("position"))){var sOffset=$.browser.msie&&!o.containment&&/absolute/.test(el.css("position"))&&!/relative/.test(el.parent().css("position")),dscrollt=sOffset?o.documentScroll.top:0,dscrolll=sOffset?o.documentScroll.left:0;el.css({position:"absolute",top:iniPos.top+dscrollt,left:iniPos.left+dscrolll})}$.browser.opera&&/relative/.test(el.css("position"))&&el.css({position:"relative",top:"auto",left:"auto"}),this._renderProxy();var curleft=num(this.helper.css("left")),curtop=num(this.helper.css("top"));return o.containment&&(curleft+=$(o.containment).scrollLeft()||0,curtop+=$(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:curleft,top:curtop},this.size=o.helper||ie6?{width:el.outerWidth(),height:el.outerHeight()}:{width:el.width(),height:el.height()},this.originalSize=o.helper||ie6?{width:el.outerWidth(),height:el.outerHeight()}:{width:el.width(),height:el.height()},this.originalPosition={left:curleft,top:curtop},this.sizeDiff={width:el.outerWidth()-el.width(),height:el.outerHeight()-el.height()},this.originalMousePosition={left:e.pageX,top:e.pageY},o.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.height/this.originalSize.width||1,o.preserveCursor&&$("body").css("cursor",this.axis+"-resize"),this.propagate("start",e),!0},mouseDrag:function(e){var el=this.helper,o=this.options,smp=this.originalMousePosition,a=this.axis,dx=e.pageX-smp.left||0,dy=e.pageY-smp.top||0,trigger=this._change[a];if(!trigger)return!1;{var data=trigger.apply(this,[e,dx,dy]);$.browser.msie&&$.browser.version<7,this.sizeDiff}return(o._aspectRatio||e.shiftKey)&&(data=this._updateRatio(data,e)),data=this._respectSize(data,e),this.propagate("resize",e),el.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"}),!o.helper&&o.proportionallyResize&&this._proportionallyResize(),this._updateCache(data),this.element.triggerHandler("resize",[e,this.ui()],this.options.resize),!1},mouseStop:function(e){this.options.resizing=!1;var o=this.options,self=this;if(o.helper){var pr=o.proportionallyResize,ista=pr&&/textarea/i.test(pr.get(0).nodeName),soffseth=ista&&$.ui.hasScroll(pr.get(0),"left")?0:self.sizeDiff.height,soffsetw=ista?0:self.sizeDiff.width,s={width:self.size.width-soffsetw,height:self.size.height-soffseth},left=parseInt(self.element.css("left"),10)+(self.position.left-self.originalPosition.left)||null,top=parseInt(self.element.css("top"),10)+(self.position.top-self.originalPosition.top)||null;o.animate||this.element.css($.extend(s,{top:top,left:left})),o.helper&&!o.animate&&this._proportionallyResize()}return o.preserveCursor&&$("body").css("cursor","auto"),this.propagate("stop",e),o.helper&&this.helper.remove(),!1},_updateCache:function(data){this.options;this.offset=this.helper.offset(),data.left&&(this.position.left=data.left),data.top&&(this.position.top=data.top),data.height&&(this.size.height=data.height),data.width&&(this.size.width=data.width)},_updateRatio:function(data){var o=this.options,cpos=this.position,csize=this.size,a=this.axis;return data.height?data.width=csize.height/o.aspectRatio:data.width&&(data.height=csize.width*o.aspectRatio),"sw"==a&&(data.left=cpos.left+(csize.width-data.width),data.top=null),"nw"==a&&(data.top=cpos.top+(csize.height-data.height),data.left=cpos.left+(csize.width-data.width)),data},_respectSize:function(data,e){var o=(this.helper,this.options),a=(o._aspectRatio||e.shiftKey,this.axis),ismaxw=data.width&&o.maxWidth&&o.maxWidth<data.width,ismaxh=data.height&&o.maxHeight&&o.maxHeight<data.height,isminw=data.width&&o.minWidth&&o.minWidth>data.width,isminh=data.height&&o.minHeight&&o.minHeight>data.height;isminw&&(data.width=o.minWidth),isminh&&(data.height=o.minHeight),ismaxw&&(data.width=o.maxWidth),ismaxh&&(data.height=o.maxHeight);var dw=this.originalPosition.left+this.originalSize.width,dh=this.position.top+this.size.height,cw=/sw|nw|w/.test(a),ch=/nw|ne|n/.test(a);isminw&&cw&&(data.left=dw-o.minWidth),ismaxw&&cw&&(data.left=dw-o.maxWidth),isminh&&ch&&(data.top=dh-o.minHeight),ismaxh&&ch&&(data.top=dh-o.maxHeight);var isNotwh=!data.width&&!data.height;return isNotwh&&!data.left&&data.top?data.top=null:isNotwh&&!data.top&&data.left&&(data.left=null),data},_proportionallyResize:function(){var o=this.options;if(o.proportionallyResize){var prel=o.proportionallyResize,el=this.helper||this.element;if(!o.borderDif){var b=[prel.css("borderTopWidth"),prel.css("borderRightWidth"),prel.css("borderBottomWidth"),prel.css("borderLeftWidth")],p=[prel.css("paddingTop"),prel.css("paddingRight"),prel.css("paddingBottom"),prel.css("paddingLeft")];o.borderDif=$.map(b,function(v,i){var border=parseInt(v,10)||0,padding=parseInt(p[i],10)||0;return border+padding})}prel.css({height:el.height()-o.borderDif[0]-o.borderDif[2]+"px",width:el.width()-o.borderDif[1]-o.borderDif[3]+"px"})}},_renderProxy:function(){var el=this.element,o=this.options;if(this.elementOffset=el.offset(),o.helper){this.helper=this.helper||$('<div style="overflow:hidden;"></div>');var ie6=$.browser.msie&&$.browser.version<7,ie6offset=ie6?1:0,pxyoffset=ie6?2:-1;this.helper.addClass(o.helper).css({width:el.outerWidth()+pxyoffset,height:el.outerHeight()+pxyoffset,position:"absolute",left:this.elementOffset.left-ie6offset+"px",top:this.elementOffset.top-ie6offset+"px",zIndex:++o.zIndex}),this.helper.appendTo("body"),o.disableSelection&&$.ui.disableSelection(this.helper.get(0))}else this.helper=el},_change:{e:function(e,dx){return{width:this.originalSize.width+dx}},w:function(e,dx){var cs=(this.options,this.originalSize),sp=this.originalPosition;return{left:sp.left+dx,width:cs.width-dx}},n:function(e,dx,dy){var cs=(this.options,this.originalSize),sp=this.originalPosition;return{top:sp.top+dy,height:cs.height-dy}},s:function(e,dx,dy){return{height:this.originalSize.height+dy}},se:function(e,dx,dy){return $.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,dx,dy]))},sw:function(e,dx,dy){return $.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,dx,dy]))},ne:function(e,dx,dy){return $.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,dx,dy]))},nw:function(e,dx,dy){return $.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,dx,dy]))}}})),$.extend($.ui.resizable,{defaults:{cancel:":input",distance:1,delay:0,preventDefault:!0,transparent:!1,minWidth:10,minHeight:10,aspectRatio:!1,disableSelection:!0,preserveCursor:!0,autoHide:!1,knobHandles:!1}}),$.ui.plugin.add("resizable","containment",{start:function(e,ui){var o=ui.options,self=$(this).data("resizable"),el=self.element,oc=o.containment,ce=oc instanceof $?oc.get(0):/parent/.test(oc)?el.parent().get(0):oc;if(ce)if(self.containerElement=$(ce),/document/.test(oc)||oc==document)self.containerOffset={left:0,top:0},self.containerPosition={left:0,top:0},self.parentData={element:$(document),left:0,top:0,width:$(document).width(),height:$(document).height()||document.body.parentNode.scrollHeight};else{self.containerOffset=$(ce).offset(),self.containerPosition=$(ce).position(),self.containerSize={height:$(ce).innerHeight(),width:$(ce).innerWidth()};var co=self.containerOffset,ch=self.containerSize.height,cw=self.containerSize.width,width=$.ui.hasScroll(ce,"left")?ce.scrollWidth:cw,height=$.ui.hasScroll(ce)?ce.scrollHeight:ch;self.parentData={element:ce,left:co.left,top:co.top,width:width,height:height}}},resize:function(e,ui){var o=ui.options,self=$(this).data("resizable"),co=(self.containerSize,self.containerOffset),cp=(self.size,self.position),pRatio=o._aspectRatio||e.shiftKey,cop={top:0,left:0},ce=self.containerElement;ce[0]!=document&&/static/.test(ce.css("position"))&&(cop=self.containerPosition),cp.left<(o.helper?co.left:cop.left)&&(self.size.width=self.size.width+(o.helper?self.position.left-co.left:self.position.left-cop.left),pRatio&&(self.size.height=self.size.width*o.aspectRatio),self.position.left=o.helper?co.left:cop.left),cp.top<(o.helper?co.top:0)&&(self.size.height=self.size.height+(o.helper?self.position.top-co.top:self.position.top),pRatio&&(self.size.width=self.size.height/o.aspectRatio),self.position.top=o.helper?co.top:0);var woset=(o.helper?self.offset.left-co.left:self.position.left-cop.left)+self.sizeDiff.width,hoset=(o.helper?self.offset.top-co.top:self.position.top)+self.sizeDiff.height;woset+self.size.width>=self.parentData.width&&(self.size.width=self.parentData.width-woset,pRatio&&(self.size.height=self.size.width*o.aspectRatio)),hoset+self.size.height>=self.parentData.height&&(self.size.height=self.parentData.height-hoset,pRatio&&(self.size.width=self.size.height/o.aspectRatio))},stop:function(e,ui){var o=ui.options,self=$(this).data("resizable"),co=(self.position,self.containerOffset),cop=self.containerPosition,ce=self.containerElement,helper=$(self.helper),ho=helper.offset(),w=helper.innerWidth(),h=helper.innerHeight();o.helper&&!o.animate&&/relative/.test(ce.css("position"))&&$(this).css({left:ho.left-co.left,top:ho.top-co.top,width:w,height:h}),o.helper&&!o.animate&&/static/.test(ce.css("position"))&&$(this).css({left:cop.left+(ho.left-co.left),top:cop.top+(ho.top-co.top),width:w,height:h})}}),$.ui.plugin.add("resizable","grid",{resize:function(e,ui){{var o=ui.options,self=$(this).data("resizable"),cs=self.size,os=self.originalSize,op=self.originalPosition,a=self.axis;o._aspectRatio||e.shiftKey}o.grid="number"==typeof o.grid?[o.grid,o.grid]:o.grid;var ox=Math.round((cs.width-os.width)/(o.grid[0]||1))*(o.grid[0]||1),oy=Math.round((cs.height-os.height)/(o.grid[1]||1))*(o.grid[1]||1);/^(se|s|e)$/.test(a)?(self.size.width=os.width+ox,self.size.height=os.height+oy):/^(ne)$/.test(a)?(self.size.width=os.width+ox,self.size.height=os.height+oy,self.position.top=op.top-oy):/^(sw)$/.test(a)?(self.size.width=os.width+ox,self.size.height=os.height+oy,self.position.left=op.left-ox):(self.size.width=os.width+ox,self.size.height=os.height+oy,self.position.top=op.top-oy,self.position.left=op.left-ox)}}),$.ui.plugin.add("resizable","animate",{stop:function(e,ui){var o=ui.options,self=$(this).data("resizable"),pr=o.proportionallyResize,ista=pr&&/textarea/i.test(pr.get(0).nodeName),soffseth=ista&&$.ui.hasScroll(pr.get(0),"left")?0:self.sizeDiff.height,soffsetw=ista?0:self.sizeDiff.width,style={width:self.size.width-soffsetw,height:self.size.height-soffseth},left=parseInt(self.element.css("left"),10)+(self.position.left-self.originalPosition.left)||null,top=parseInt(self.element.css("top"),10)+(self.position.top-self.originalPosition.top)||null;self.element.animate($.extend(style,top&&left?{top:top,left:left}:{}),{duration:o.animateDuration||"slow",easing:o.animateEasing||"swing",step:function(){var data={width:parseInt(self.element.css("width"),10),height:parseInt(self.element.css("height"),10),top:parseInt(self.element.css("top"),10),left:parseInt(self.element.css("left"),10)};pr&&pr.css({width:data.width,height:data.height}),self._updateCache(data),self.propagate("animate",e)}})}}),$.ui.plugin.add("resizable","ghost",{start:function(e,ui){var o=ui.options,self=$(this).data("resizable"),pr=o.proportionallyResize,cs=self.size;self.ghost=pr?pr.clone():self.element.clone(),self.ghost.css({opacity:.25,display:"block",position:"relative",height:cs.height,width:cs.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof o.ghost?o.ghost:""),self.ghost.appendTo(self.helper)},resize:function(e,ui){{var o=ui.options,self=$(this).data("resizable");o.proportionallyResize}self.ghost&&self.ghost.css({position:"relative",height:self.size.height,width:self.size.width})},stop:function(e,ui){{var o=ui.options,self=$(this).data("resizable");o.proportionallyResize}self.ghost&&self.helper&&self.helper.get(0).removeChild(self.ghost.get(0))}}),$.ui.plugin.add("resizable","alsoResize",{start:function(e,ui){var o=ui.options,_store=($(this).data("resizable"),function(exp){$(exp).each(function(){$(this).data("resizable-alsoresize",{width:parseInt($(this).width(),10),height:parseInt($(this).height(),10),left:parseInt($(this).css("left"),10),top:parseInt($(this).css("top"),10)})})});"object"==typeof o.alsoResize?o.alsoResize.length?(o.alsoResize=o.alsoResize[0],_store(o.alsoResize)):$.each(o.alsoResize,function(exp){_store(exp)}):_store(o.alsoResize)},resize:function(e,ui){var o=ui.options,self=$(this).data("resizable"),os=self.originalSize,op=self.originalPosition,delta={height:self.size.height-os.height||0,width:self.size.width-os.width||0,top:self.position.top-op.top||0,left:self.position.left-op.left||0},_alsoResize=function(exp,c){$(exp).each(function(){var start=$(this).data("resizable-alsoresize"),style={},css=c&&c.length?c:["width","height","top","left"];$.each(css||["width","height","top","left"],function(i,prop){var sum=(start[prop]||0)+(delta[prop]||0);sum&&sum>=0&&(style[prop]=sum||null)}),$(this).css(style)})};"object"==typeof o.alsoResize?$.each(o.alsoResize,function(exp,c){_alsoResize(exp,c)}):_alsoResize(o.alsoResize)},stop:function(){$(this).removeData("resizable-alsoresize-start")}})}(jQuery),function($){$.widget("ui.selectable",$.extend({},$.ui.mouse,{init:function(){var self=this;this.element.addClass("ui-selectable"),this.dragged=!1;var selectees;this.refresh=function(){selectees=$(self.options.filter,self.element[0]),selectees.each(function(){var $this=$(this),pos=$this.offset();$.data(this,"selectable-item",{element:this,$element:$this,left:pos.left,top:pos.top,right:pos.left+$this.width(),bottom:pos.top+$this.height(),startselected:!1,selected:$this.hasClass("ui-selected"),selecting:$this.hasClass("ui-selecting"),unselecting:$this.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=selectees.addClass("ui-selectee"),this.mouseInit(),this.helper=$(document.createElement("div")).css({border:"1px dotted black"})},toggle:function(){this.options.disabled?this.enable():this.disable()},destroy:function(){this.element.removeClass("ui-selectable ui-selectable-disabled").removeData("selectable").unbind(".selectable"),this.mouseDestroy()},mouseStart:function(e){var self=this;if(this.opos=[e.pageX,e.pageY],!this.options.disabled){var options=this.options;this.selectees=$(options.filter,this.element[0]),this.element.triggerHandler("selectablestart",[e,{selectable:this.element[0],options:options}],options.start),$("body").append(this.helper),this.helper.css({"z-index":100,position:"absolute",left:e.clientX,top:e.clientY,width:0,height:0}),options.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var selectee=$.data(this,"selectable-item");selectee.startselected=!0,e.ctrlKey||(selectee.$element.removeClass("ui-selected"),selectee.selected=!1,selectee.$element.addClass("ui-unselecting"),selectee.unselecting=!0,self.element.triggerHandler("selectableunselecting",[e,{selectable:self.element[0],unselecting:selectee.element,options:options}],options.unselecting))});var isSelectee=!1;return $(e.target).parents().andSelf().each(function(){$.data(this,"selectable-item")&&(isSelectee=!0)}),this.options.keyboard?!isSelectee:!0}},mouseDrag:function(e){var self=this;if(this.dragged=!0,!this.options.disabled){var options=this.options,x1=this.opos[0],y1=this.opos[1],x2=e.pageX,y2=e.pageY;if(x1>x2){var tmp=x2;x2=x1,x1=tmp}if(y1>y2){var tmp=y2;y2=y1,y1=tmp}return this.helper.css({left:x1,top:y1,width:x2-x1,height:y2-y1}),this.selectees.each(function(){var selectee=$.data(this,"selectable-item");if(selectee&&selectee.element!=self.element[0]){var hit=!1;"touch"==options.tolerance?hit=!(selectee.left>x2||selectee.right<x1||selectee.top>y2||selectee.bottom<y1):"fit"==options.tolerance&&(hit=selectee.left>x1&&selectee.right<x2&&selectee.top>y1&&selectee.bottom<y2),hit?(selectee.selected&&(selectee.$element.removeClass("ui-selected"),selectee.selected=!1),selectee.unselecting&&(selectee.$element.removeClass("ui-unselecting"),selectee.unselecting=!1),selectee.selecting||(selectee.$element.addClass("ui-selecting"),selectee.selecting=!0,self.element.triggerHandler("selectableselecting",[e,{selectable:self.element[0],selecting:selectee.element,options:options}],options.selecting))):(selectee.selecting&&(e.ctrlKey&&selectee.startselected?(selectee.$element.removeClass("ui-selecting"),selectee.selecting=!1,selectee.$element.addClass("ui-selected"),selectee.selected=!0):(selectee.$element.removeClass("ui-selecting"),selectee.selecting=!1,selectee.startselected&&(selectee.$element.addClass("ui-unselecting"),selectee.unselecting=!0),self.element.triggerHandler("selectableunselecting",[e,{selectable:self.element[0],unselecting:selectee.element,options:options}],options.unselecting))),selectee.selected&&(e.ctrlKey||selectee.startselected||(selectee.$element.removeClass("ui-selected"),selectee.selected=!1,selectee.$element.addClass("ui-unselecting"),selectee.unselecting=!0,self.element.triggerHandler("selectableunselecting",[e,{selectable:self.element[0],unselecting:selectee.element,options:options}],options.unselecting))))}}),!1}},mouseStop:function(e){var self=this;this.dragged=!1;var options=this.options;return $(".ui-unselecting",this.element[0]).each(function(){var selectee=$.data(this,"selectable-item");selectee.$element.removeClass("ui-unselecting"),selectee.unselecting=!1,selectee.startselected=!1,self.element.triggerHandler("selectableunselected",[e,{selectable:self.element[0],unselected:selectee.element,options:options}],options.unselected)}),$(".ui-selecting",this.element[0]).each(function(){var selectee=$.data(this,"selectable-item");selectee.$element.removeClass("ui-selecting").addClass("ui-selected"),selectee.selecting=!1,selectee.selected=!0,selectee.startselected=!0,self.element.triggerHandler("selectableselected",[e,{selectable:self.element[0],selected:selectee.element,options:options}],options.selected)}),this.element.triggerHandler("selectablestop",[e,{selectable:self.element[0],options:this.options}],this.options.stop),this.helper.remove(),!1}})),$.extend($.ui.selectable,{defaults:{distance:1,delay:0,cancel:":input",appendTo:"body",autoRefresh:!0,filter:"*",tolerance:"touch"}})}(jQuery),function($){function contains(a,b){var safari2=$.browser.safari&&$.browser.version<522;if(a.contains&&!safari2)return a.contains(b);if(a.compareDocumentPosition)return!!(16&a.compareDocumentPosition(b));for(;b=b.parentNode;)if(b==a)return!0;return!1}$.widget("ui.sortable",$.extend({},$.ui.mouse,{init:function(){this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?/left|right/.test(this.items[0].item.css("float")):!1,/(relative|absolute|fixed)/.test(this.element.css("position"))||this.element.css("position","relative"),this.offset=this.element.offset(),this.mouseInit()},plugins:{},ui:function(inst){return{helper:(inst||this).helper,placeholder:(inst||this).placeholder||$([]),position:(inst||this).position,absolutePosition:(inst||this).positionAbs,options:this.options,element:this.element,item:(inst||this).currentItem,sender:inst?inst.element:null}},propagate:function(n,e,inst,noPropagation){$.ui.plugin.call(this,n,[e,this.ui(inst)]),noPropagation||this.element.triggerHandler("sort"==n?n:"sort"+n,[e,this.ui(inst)],this.options[n])},serialize:function(o){var items=($.isFunction(this.options.items)?this.options.items.call(this.element):$(this.options.items,this.element)).not(".ui-sortable-helper"),str=[];return o=o||{},items.each(function(){var res=($(this).attr(o.attribute||"id")||"").match(o.expression||/(.+)[-=_](.+)/);res&&str.push((o.key||res[1])+"[]="+(o.key&&o.expression?res[1]:res[2]))}),str.join("&")},toArray:function(attr){var items=($.isFunction(this.options.items)?this.options.items.call(this.element):$(this.options.items,this.element)).not(".ui-sortable-helper"),ret=[];return items.each(function(){ret.push($(this).attr(attr||"id"))}),ret},intersectsWith:function(item){var x1=this.positionAbs.left,x2=x1+this.helperProportions.width,y1=this.positionAbs.top,y2=y1+this.helperProportions.height,l=item.left,r=l+item.width,t=item.top,b=t+item.height;return"pointer"==this.options.tolerance||this.options.forcePointerForContainers||"guess"==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>item[this.floating?"width":"height"]?y1+this.offset.click.top>t&&y1+this.offset.click.top<b&&x1+this.offset.click.left>l&&x1+this.offset.click.left<r:l<x1+this.helperProportions.width/2&&x2-this.helperProportions.width/2<r&&t<y1+this.helperProportions.height/2&&y2-this.helperProportions.height/2<b},intersectsWithEdge:function(item){var x1=this.positionAbs.left,x2=x1+this.helperProportions.width,y1=this.positionAbs.top,y2=y1+this.helperProportions.height,l=item.left,r=l+item.width,t=item.top,b=t+item.height;if("pointer"==this.options.tolerance||"guess"==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>item[this.floating?"width":"height"]){if(!(y1+this.offset.click.top>t&&y1+this.offset.click.top<b&&x1+this.offset.click.left>l&&x1+this.offset.click.left<r))return!1;if(this.floating){if(x1+this.offset.click.left>l&&x1+this.offset.click.left<l+item.width/2)return 2;if(x1+this.offset.click.left>l+item.width/2&&x1+this.offset.click.left<r)return 1}else{if(y1+this.offset.click.top>t&&y1+this.offset.click.top<t+item.height/2)return 2;if(y1+this.offset.click.top>t+item.height/2&&y1+this.offset.click.top<b)return 1}}else{if(!(l<x1+this.helperProportions.width/2&&x2-this.helperProportions.width/2<r&&t<y1+this.helperProportions.height/2&&y2-this.helperProportions.height/2<b))return!1;if(this.floating){if(x2>l&&l>x1)return 2;if(r>x1&&x2>r)return 1}else{if(y2>t&&t>y1)return 1;if(b>y1&&y2>b)return 2}}return!1},refresh:function(){this.refreshItems(),this.refreshPositions()},refreshItems:function(){this.items=[],this.containers=[this];var items=this.items,queries=[[$.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):$(this.options.items,this.element),this]];if(this.options.connectWith)for(var i=this.options.connectWith.length-1;i>=0;i--)for(var cur=$(this.options.connectWith[i]),j=cur.length-1;j>=0;j--){var inst=$.data(cur[j],"sortable");inst&&!inst.options.disabled&&(queries.push([$.isFunction(inst.options.items)?inst.options.items.call(inst.element):$(inst.options.items,inst.element),inst]),this.containers.push(inst))}for(var i=queries.length-1;i>=0;i--)queries[i][0].each(function(){$.data(this,"sortable-item",queries[i][1]),items.push({item:$(this),instance:queries[i][1],width:0,height:0,left:0,top:0})})},refreshPositions:function(fast){if(this.offsetParent){var po=this.offsetParent.offset();this.offset.parent={top:po.top+this.offsetParentBorders.top,left:po.left+this.offsetParentBorders.left}}for(var i=this.items.length-1;i>=0;i--)if(this.items[i].instance==this.currentContainer||!this.currentContainer||this.items[i].item[0]==this.currentItem[0]){var t=this.options.toleranceElement?$(this.options.toleranceElement,this.items[i].item):this.items[i].item;fast||(this.items[i].width=t[0].offsetWidth,this.items[i].height=t[0].offsetHeight);var p=t.offset();this.items[i].left=p.left,this.items[i].top=p.top}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(var i=this.containers.length-1;i>=0;i--){var p=this.containers[i].element.offset();this.containers[i].containerCache.left=p.left,this.containers[i].containerCache.top=p.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight()}},destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").removeData("sortable").unbind(".sortable"),this.mouseDestroy();for(var i=this.items.length-1;i>=0;i--)this.items[i].item.removeData("sortable-item")},createPlaceholder:function(that){var self=that||this,o=self.options;if(o.placeholder.constructor==String){var className=o.placeholder;o.placeholder={element:function(){return $("<div></div>").addClass(className)[0]},update:function(i,p){p.css(i.offset()).css({width:i.outerWidth(),height:i.outerHeight()})}}}self.placeholder=$(o.placeholder.element.call(self.element,self.currentItem)).appendTo("body").css({position:"absolute"}),o.placeholder.update.call(self.element,self.currentItem,self.placeholder)},contactContainers:function(e){for(var i=this.containers.length-1;i>=0;i--)if(this.intersectsWith(this.containers[i].containerCache)){if(!this.containers[i].containerCache.over){if(this.currentContainer!=this.containers[i]){for(var dist=1e4,itemWithLeastDistance=null,base=this.positionAbs[this.containers[i].floating?"left":"top"],j=this.items.length-1;j>=0;j--)if(contains(this.containers[i].element[0],this.items[j].item[0])){var cur=this.items[j][this.containers[i].floating?"left":"top"];Math.abs(cur-base)<dist&&(dist=Math.abs(cur-base),itemWithLeastDistance=this.items[j])}if(!itemWithLeastDistance&&!this.options.dropOnEmpty)continue;this.placeholder&&this.placeholder.remove(),this.containers[i].options.placeholder?this.containers[i].createPlaceholder(this):this.placeholder=null,this.currentContainer=this.containers[i],itemWithLeastDistance?this.rearrange(e,itemWithLeastDistance,null,!0):this.rearrange(e,null,this.containers[i].element,!0),this.propagate("change",e),this.containers[i].propagate("change",e,this)}this.containers[i].propagate("over",e,this),this.containers[i].containerCache.over=1}}else this.containers[i].containerCache.over&&(this.containers[i].propagate("out",e,this),this.containers[i].containerCache.over=0)},mouseCapture:function(e,overrideHandle){if(this.options.disabled||"static"==this.options.type)return!1;this.refreshItems();{var currentItem=null,self=this;$(e.target).parents().each(function(){return $.data(this,"sortable-item")==self?(currentItem=$(this),!1):void 0})}if($.data(e.target,"sortable-item")==self&&(currentItem=$(e.target)),!currentItem)return!1;if(this.options.handle&&!overrideHandle){var validHandle=!1;if($(this.options.handle,currentItem).find("*").andSelf().each(function(){this==e.target&&(validHandle=!0)}),!validHandle)return!1}return this.currentItem=currentItem,!0},mouseStart:function(e,overrideHandle,noActivation){var o=this.options;this.currentContainer=this,this.refreshPositions(),this.helper="function"==typeof o.helper?$(o.helper.apply(this.element[0],[e,this.currentItem])):this.currentItem.clone(),this.helper.parents("body").length||$("parent"!=o.appendTo?o.appendTo:this.currentItem[0].parentNode)[0].appendChild(this.helper[0]),this.helper.css({position:"absolute",clear:"both"}).addClass("ui-sortable-helper"),this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0},this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},this.offsetParent=this.helper.offsetParent();var po=this.offsetParent.offset();if(this.offsetParentBorders={top:parseInt(this.offsetParent.css("borderTopWidth"),10)||0,left:parseInt(this.offsetParent.css("borderLeftWidth"),10)||0},this.offset.parent={top:po.top+this.offsetParentBorders.top,left:po.left+this.offsetParentBorders.left},this.originalPosition=this.generatePosition(e),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()},o.placeholder&&this.createPlaceholder(),this.propagate("start",e),this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()},o.cursorAt&&(void 0!=o.cursorAt.left&&(this.offset.click.left=o.cursorAt.left),void 0!=o.cursorAt.right&&(this.offset.click.left=this.helperProportions.width-o.cursorAt.right),void 0!=o.cursorAt.top&&(this.offset.click.top=o.cursorAt.top),void 0!=o.cursorAt.bottom&&(this.offset.click.top=this.helperProportions.height-o.cursorAt.bottom)),o.containment&&("parent"==o.containment&&(o.containment=this.helper[0].parentNode),("document"==o.containment||"window"==o.containment)&&(this.containment=[0-this.offset.parent.left,0-this.offset.parent.top,$("document"==o.containment?document:window).width()-this.offset.parent.left-this.helperProportions.width-this.margins.left-(parseInt(this.element.css("marginRight"),10)||0),($("document"==o.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.offset.parent.top-this.helperProportions.height-this.margins.top-(parseInt(this.element.css("marginBottom"),10)||0)]),!/^(document|window|parent)$/.test(o.containment))){var ce=$(o.containment)[0],co=$(o.containment).offset();this.containment=[co.left+(parseInt($(ce).css("borderLeftWidth"),10)||0)-this.offset.parent.left,co.top+(parseInt($(ce).css("borderTopWidth"),10)||0)-this.offset.parent.top,co.left+Math.max(ce.scrollWidth,ce.offsetWidth)-(parseInt($(ce).css("borderLeftWidth"),10)||0)-this.offset.parent.left-this.helperProportions.width-this.margins.left-(parseInt(this.currentItem.css("marginRight"),10)||0),co.top+Math.max(ce.scrollHeight,ce.offsetHeight)-(parseInt($(ce).css("borderTopWidth"),10)||0)-this.offset.parent.top-this.helperProportions.height-this.margins.top-(parseInt(this.currentItem.css("marginBottom"),10)||0)]}if("clone"!=this.options.placeholder&&this.currentItem.css("visibility","hidden"),!noActivation)for(var i=this.containers.length-1;i>=0;i--)this.containers[i].propagate("activate",e,this);
return $.ui.ddmanager&&($.ui.ddmanager.current=this),$.ui.ddmanager&&!o.dropBehaviour&&$.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this.mouseDrag(e),!0},convertPositionTo:function(d,pos){pos||(pos=this.position);var mod="absolute"==d?1:-1;return{top:pos.top+this.offset.parent.top*mod-(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)*mod+this.margins.top*mod,left:pos.left+this.offset.parent.left*mod-(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft)*mod+this.margins.left*mod}},generatePosition:function(e){var o=this.options,position={top:e.pageY-this.offset.click.top-this.offset.parent.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop),left:e.pageX-this.offset.click.left-this.offset.parent.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft)};if(!this.originalPosition)return position;if(this.containment&&(position.left<this.containment[0]&&(position.left=this.containment[0]),position.top<this.containment[1]&&(position.top=this.containment[1]),position.left>this.containment[2]&&(position.left=this.containment[2]),position.top>this.containment[3]&&(position.top=this.containment[3])),o.grid){var top=this.originalPosition.top+Math.round((position.top-this.originalPosition.top)/o.grid[1])*o.grid[1];position.top=this.containment?top<this.containment[1]||top>this.containment[3]?top<this.containment[1]?top+o.grid[1]:top-o.grid[1]:top:top;var left=this.originalPosition.left+Math.round((position.left-this.originalPosition.left)/o.grid[0])*o.grid[0];position.left=this.containment?left<this.containment[0]||left>this.containment[2]?left<this.containment[0]?left+o.grid[0]:left-o.grid[0]:left:left}return position},mouseDrag:function(e){this.position=this.generatePosition(e),this.positionAbs=this.convertPositionTo("absolute"),$.ui.plugin.call(this,"sort",[e,this.ui()]),this.positionAbs=this.convertPositionTo("absolute"),this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px";for(var i=this.items.length-1;i>=0;i--){var intersection=this.intersectsWithEdge(this.items[i]);if(intersection&&this.items[i].item[0]!=this.currentItem[0]&&this.currentItem[1==intersection?"next":"prev"]()[0]!=this.items[i].item[0]&&!contains(this.currentItem[0],this.items[i].item[0])&&("semi-dynamic"==this.options.type?!contains(this.element[0],this.items[i].item[0]):!0)){this.direction=1==intersection?"down":"up",this.rearrange(e,this.items[i]),this.propagate("change",e);break}}return this.contactContainers(e),$.ui.ddmanager&&$.ui.ddmanager.drag(this,e),this.element.triggerHandler("sort",[e,this.ui()],this.options.sort),!1},rearrange:function(e,i,a,hardRefresh){a?a[0].appendChild(this.currentItem[0]):i.item[0].parentNode.insertBefore(this.currentItem[0],"down"==this.direction?i.item[0]:i.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var self=this,counter=this.counter;window.setTimeout(function(){counter==self.counter&&self.refreshPositions(!hardRefresh)},0),this.options.placeholder&&this.options.placeholder.update.call(this.element,this.currentItem,this.placeholder)},mouseStop:function(e,noPropagation){if($.ui.ddmanager&&!this.options.dropBehaviour&&$.ui.ddmanager.drop(this,e),this.options.revert){var self=this,cur=self.currentItem.offset();self.placeholder&&self.placeholder.animate({opacity:"hide"},(parseInt(this.options.revert,10)||500)-50),$(this.helper).animate({left:cur.left-this.offset.parent.left-self.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:cur.top-this.offset.parent.top-self.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){self.clear(e)})}else this.clear(e,noPropagation);return!1},clear:function(e,noPropagation){if((this.domPosition.prev!=this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!=this.currentItem.parent()[0])&&this.propagate("update",e,null,noPropagation),!contains(this.element[0],this.currentItem[0])){this.propagate("remove",e,null,noPropagation);for(var i=this.containers.length-1;i>=0;i--)contains(this.containers[i].element[0],this.currentItem[0])&&(this.containers[i].propagate("update",e,this,noPropagation),this.containers[i].propagate("receive",e,this,noPropagation))}for(var i=this.containers.length-1;i>=0;i--)this.containers[i].propagate("deactivate",e,this,noPropagation),this.containers[i].containerCache.over&&(this.containers[i].propagate("out",e,this),this.containers[i].containerCache.over=0);return this.dragging=!1,this.cancelHelperRemoval?(this.propagate("stop",e,null,noPropagation),!1):($(this.currentItem).css("visibility",""),this.placeholder&&this.placeholder.remove(),this.helper.remove(),this.helper=null,this.propagate("stop",e,null,noPropagation),!0)}})),$.extend($.ui.sortable,{getter:"serialize toArray",defaults:{helper:"clone",tolerance:"guess",distance:1,delay:0,scroll:!0,scrollSensitivity:20,scrollSpeed:20,cancel:":input",items:"> *",zIndex:1e3,dropOnEmpty:!0,appendTo:"parent"}}),$.ui.plugin.add("sortable","cursor",{start:function(e,ui){var t=$("body");t.css("cursor")&&(ui.options._cursor=t.css("cursor")),t.css("cursor",ui.options.cursor)},stop:function(e,ui){ui.options._cursor&&$("body").css("cursor",ui.options._cursor)}}),$.ui.plugin.add("sortable","zIndex",{start:function(e,ui){var t=ui.helper;t.css("zIndex")&&(ui.options._zIndex=t.css("zIndex")),t.css("zIndex",ui.options.zIndex)},stop:function(e,ui){ui.options._zIndex&&$(ui.helper).css("zIndex",ui.options._zIndex)}}),$.ui.plugin.add("sortable","opacity",{start:function(e,ui){var t=ui.helper;t.css("opacity")&&(ui.options._opacity=t.css("opacity")),t.css("opacity",ui.options.opacity)},stop:function(e,ui){ui.options._opacity&&$(ui.helper).css("opacity",ui.options._opacity)}}),$.ui.plugin.add("sortable","scroll",{start:function(e,ui){var i=(ui.options,$(this).data("sortable"));i.overflowY=function(el){do{if(/auto|scroll/.test(el.css("overflow"))||/auto|scroll/.test(el.css("overflow-y")))return el;el=el.parent()}while(el[0].parentNode);return $(document)}(i.currentItem),i.overflowX=function(el){do{if(/auto|scroll/.test(el.css("overflow"))||/auto|scroll/.test(el.css("overflow-x")))return el;el=el.parent()}while(el[0].parentNode);return $(document)}(i.currentItem),i.overflowY[0]!=document&&"HTML"!=i.overflowY[0].tagName&&(i.overflowYOffset=i.overflowY.offset()),i.overflowX[0]!=document&&"HTML"!=i.overflowX[0].tagName&&(i.overflowXOffset=i.overflowX.offset())},sort:function(e,ui){var o=ui.options,i=$(this).data("sortable");i.overflowY[0]!=document&&"HTML"!=i.overflowY[0].tagName?(i.overflowYOffset.top+i.overflowY[0].offsetHeight-e.pageY<o.scrollSensitivity&&(i.overflowY[0].scrollTop=i.overflowY[0].scrollTop+o.scrollSpeed),e.pageY-i.overflowYOffset.top<o.scrollSensitivity&&(i.overflowY[0].scrollTop=i.overflowY[0].scrollTop-o.scrollSpeed)):(e.pageY-$(document).scrollTop()<o.scrollSensitivity&&$(document).scrollTop($(document).scrollTop()-o.scrollSpeed),$(window).height()-(e.pageY-$(document).scrollTop())<o.scrollSensitivity&&$(document).scrollTop($(document).scrollTop()+o.scrollSpeed)),i.overflowX[0]!=document&&"HTML"!=i.overflowX[0].tagName?(i.overflowXOffset.left+i.overflowX[0].offsetWidth-e.pageX<o.scrollSensitivity&&(i.overflowX[0].scrollLeft=i.overflowX[0].scrollLeft+o.scrollSpeed),e.pageX-i.overflowXOffset.left<o.scrollSensitivity&&(i.overflowX[0].scrollLeft=i.overflowX[0].scrollLeft-o.scrollSpeed)):(e.pageX-$(document).scrollLeft()<o.scrollSensitivity&&$(document).scrollLeft($(document).scrollLeft()-o.scrollSpeed),$(window).width()-(e.pageX-$(document).scrollLeft())<o.scrollSensitivity&&$(document).scrollLeft($(document).scrollLeft()+o.scrollSpeed))}}),$.ui.plugin.add("sortable","axis",{sort:function(e,ui){var i=$(this).data("sortable");"y"==ui.options.axis&&(i.position.left=i.originalPosition.left),"x"==ui.options.axis&&(i.position.top=i.originalPosition.top)}})}(jQuery),function($){function scopeCallback(callback,scope){return function(){return callback.apply(scope,arguments)}}function completed(cancel){if($.data(this,"accordion")){var instance=$.data(this,"accordion"),options=instance.options;options.running=cancel?0:--options.running,options.running||(options.clearStyle&&options.toShow.add(options.toHide).css({height:"",overflow:""}),$(this).triggerHandler("accordionchange",[$.event.fix({type:"accordionchange",target:instance.element[0]}),options.data],options.change))}}function toggle(toShow,toHide,data,clickedActive,down){var options=$.data(this,"accordion").options;options.toShow=toShow,options.toHide=toHide,options.data=data;var complete=scopeCallback(completed,this);options.running=0===toHide.size()?toShow.size():toHide.size(),options.animated?$.ui.accordion.animations[options.animated](!options.alwaysOpen&&clickedActive?{toShow:jQuery([]),toHide:toHide,complete:complete,down:down,autoHeight:options.autoHeight}:{toShow:toShow,toHide:toHide,complete:complete,down:down,autoHeight:options.autoHeight}):(!options.alwaysOpen&&clickedActive?toShow.toggle():(toHide.hide(),toShow.show()),complete(!0))}function clickHandler(event){var options=$.data(this,"accordion").options;if(options.disabled)return!1;if(!event.target&&!options.alwaysOpen){options.active.parent().andSelf().toggleClass(options.selectedClass);var toHide=options.active.next(),data={options:options,newHeader:jQuery([]),oldHeader:options.active,newContent:jQuery([]),oldContent:toHide},toShow=options.active=$([]);return toggle.call(this,toShow,toHide,data),!1}var clicked=$(event.target);clicked=$(clicked.parents(options.header)[0]||clicked);var clickedActive=clicked[0]==options.active[0];if(options.running||options.alwaysOpen&&clickedActive)return!1;if(clicked.is(options.header)){options.active.parent().andSelf().toggleClass(options.selectedClass),clickedActive||clicked.parent().andSelf().addClass(options.selectedClass);var toShow=clicked.next(),toHide=options.active.next(),data={options:options,newHeader:clicked,oldHeader:options.active,newContent:toShow,oldContent:toHide},down=options.headers.index(options.active[0])>options.headers.index(clicked[0]);return options.active=clickedActive?$([]):clicked,toggle.call(this,toShow,toHide,data,clickedActive,down),!1}}function findActive(headers,selector){return void 0!=selector?"number"==typeof selector?headers.filter(":eq("+selector+")"):headers.not(headers.not(selector)):selector===!1?$([]):headers.filter(":eq(0)")}$.widget("ui.accordion",{init:function(){var options=this.options;if(options.navigation){var current=this.element.find("a").filter(options.navigationFilter);current.length&&(current.filter(options.header).length?options.active=current:(options.active=current.parent().parent().prev(),current.addClass("current")))}options.headers=this.element.find(options.header),options.active=findActive(options.headers,options.active),$.browser.msie&&this.element.find("a").css("zoom","1"),this.element.hasClass("ui-accordion")||(this.element.addClass("ui-accordion"),$("<span class='ui-accordion-left'/>").insertBefore(options.headers),$("<span class='ui-accordion-right'/>").appendTo(options.headers),options.headers.addClass("ui-accordion-header").attr("tabindex","0"));var maxHeight;if(options.fillSpace){maxHeight=this.element.parent().height(),options.headers.each(function(){maxHeight-=$(this).outerHeight()});var maxPadding=0;options.headers.next().each(function(){maxPadding=Math.max(maxPadding,$(this).innerHeight()-$(this).height())}).height(maxHeight-maxPadding)}else options.autoHeight&&(maxHeight=0,options.headers.next().each(function(){maxHeight=Math.max(maxHeight,$(this).outerHeight())}).height(maxHeight));options.headers.not(options.active||"").next().hide(),options.active.parent().andSelf().addClass(options.selectedClass),options.event&&this.element.bind(options.event+".accordion",clickHandler)},activate:function(index){clickHandler.call(this.element[0],{target:findActive(this.options.headers,index)[0]})},destroy:function(){this.options.headers.next().css("display",""),(this.options.fillSpace||this.options.autoHeight)&&this.options.headers.next().css("height",""),$.removeData(this.element[0],"accordion"),this.element.removeClass("ui-accordion").unbind(".accordion")}}),$.extend($.ui.accordion,{defaults:{selectedClass:"selected",alwaysOpen:!0,animated:"slide",event:"click",header:"a",autoHeight:!0,running:0,navigationFilter:function(){return this.href.toLowerCase()==location.href.toLowerCase()}},animations:{slide:function(options,additions){if(options=$.extend({easing:"swing",duration:300},options,additions),!options.toHide.size())return void options.toShow.animate({height:"show"},options);var hideHeight=options.toHide.height(),showHeight=options.toShow.height(),difference=showHeight/hideHeight;options.toShow.css({height:0,overflow:"hidden"}).show(),options.toHide.filter(":hidden").each(options.complete).end().filter(":visible").animate({height:"hide"},{step:function(now){var current=(hideHeight-now)*difference;($.browser.msie||$.browser.opera)&&(current=Math.ceil(current)),options.toShow.height(current)},duration:options.duration,easing:options.easing,complete:function(){options.autoHeight||options.toShow.css("height","auto"),options.complete()}})},bounceslide:function(options){this.slide(options,{easing:options.down?"bounceout":"swing",duration:options.down?1e3:200})},easeslide:function(options){this.slide(options,{easing:"easeinout",duration:700})}}}),$.fn.activate=function(index){return this.accordion("activate",index)}}(jQuery),function($){var setDataSwitch={dragStart:"start.draggable",drag:"drag.draggable",dragStop:"stop.draggable",maxHeight:"maxHeight.resizable",minHeight:"minHeight.resizable",maxWidth:"maxWidth.resizable",minWidth:"minWidth.resizable",resizeStart:"start.resizable",resize:"drag.resizable",resizeStop:"stop.resizable"};$.widget("ui.dialog",{init:function(){{var self=this,options=this.options,resizeHandles="string"==typeof options.resizable?options.resizable:"n,e,s,w,se,sw,ne,nw",uiDialogContent=this.element.addClass("ui-dialog-content").wrap("<div/>").wrap("<div/>"),uiDialogContainer=this.uiDialogContainer=uiDialogContent.parent().addClass("ui-dialog-container").css({position:"relative",width:"100%",height:"100%"}),title=options.title||uiDialogContent.attr("title")||"",uiDialogTitlebar=(this.uiDialogTitlebar=$('<div class="ui-dialog-titlebar"/>')).append('<span class="ui-dialog-title">'+title+"</span>").append('<a href="#" class="ui-dialog-titlebar-close"><span>X</span></a>').prependTo(uiDialogContainer),uiDialog=(this.uiDialog=uiDialogContainer.parent()).appendTo(document.body).hide().addClass("ui-dialog").addClass(options.dialogClass).addClass(uiDialogContent.attr("className")).removeClass("ui-dialog-content").css({position:"absolute",width:options.width,height:options.height,overflow:"hidden",zIndex:options.zIndex}).attr("tabIndex",-1).css("outline",0).keydown(function(ev){if(options.closeOnEscape){var ESC=27;ev.keyCode&&ev.keyCode==ESC&&self.close()}}).mousedown(function(){self.moveToTop()});(this.uiDialogButtonPane=$("<div/>")).addClass("ui-dialog-buttonpane").css({position:"absolute",bottom:0}).appendTo(uiDialog)}this.uiDialogTitlebarClose=$(".ui-dialog-titlebar-close",uiDialogTitlebar).hover(function(){$(this).addClass("ui-dialog-titlebar-close-hover")},function(){$(this).removeClass("ui-dialog-titlebar-close-hover")}).mousedown(function(ev){ev.stopPropagation()}).click(function(){return self.close(),!1}),this.uiDialogTitlebar.find("*").add(this.uiDialogTitlebar).each(function(){$.ui.disableSelection(this)}),$.fn.draggable&&(uiDialog.draggable({cancel:".ui-dialog-content",helper:options.dragHelper,handle:".ui-dialog-titlebar",start:function(){self.moveToTop(),options.dragStart&&options.dragStart.apply(self.element[0],arguments)},drag:function(){options.drag&&options.drag.apply(self.element[0],arguments)},stop:function(){options.dragStop&&options.dragStop.apply(self.element[0],arguments),$.ui.dialog.overlay.resize()}}),options.draggable||uiDialog.draggable("disable")),$.fn.resizable&&(uiDialog.resizable({cancel:".ui-dialog-content",helper:options.resizeHelper,maxWidth:options.maxWidth,maxHeight:options.maxHeight,minWidth:options.minWidth,minHeight:options.minHeight,start:function(){options.resizeStart&&options.resizeStart.apply(self.element[0],arguments)},resize:function(){options.autoResize&&self.size.apply(self),options.resize&&options.resize.apply(self.element[0],arguments)},handles:resizeHandles,stop:function(){options.autoResize&&self.size.apply(self),options.resizeStop&&options.resizeStop.apply(self.element[0],arguments),$.ui.dialog.overlay.resize()}}),options.resizable||uiDialog.resizable("disable")),this.createButtons(options.buttons),this.isOpen=!1,options.bgiframe&&$.fn.bgiframe&&uiDialog.bgiframe(),options.autoOpen&&this.open()},setData:function(key,value){switch(setDataSwitch[key]&&this.uiDialog.data(setDataSwitch[key],value),key){case"buttons":this.createButtons(value);break;case"draggable":this.uiDialog.draggable(value?"enable":"disable");break;case"height":this.uiDialog.height(value);break;case"position":this.position(value);break;case"resizable":"string"==typeof value&&this.uiDialog.data("handles.resizable",value),this.uiDialog.resizable(value?"enable":"disable");break;case"title":$(".ui-dialog-title",this.uiDialogTitlebar).text(value);break;case"width":this.uiDialog.width(value)}$.widget.prototype.setData.apply(this,arguments)},position:function(pos){var wnd=$(window),doc=$(document),pTop=doc.scrollTop(),pLeft=doc.scrollLeft(),minTop=pTop;if($.inArray(pos,["center","top","right","bottom","left"])>=0&&(pos=["right"==pos||"left"==pos?pos:"center","top"==pos||"bottom"==pos?pos:"middle"]),pos.constructor!=Array&&(pos=["center","middle"]),pos[0].constructor==Number)pLeft+=pos[0];else switch(pos[0]){case"left":pLeft+=0;break;case"right":pLeft+=wnd.width()-this.uiDialog.width();break;default:case"center":pLeft+=(wnd.width()-this.uiDialog.width())/2}if(pos[1].constructor==Number)pTop+=pos[1];else switch(pos[1]){case"top":pTop+=0;break;case"bottom":pTop+=wnd.height()-this.uiDialog.height();break;default:case"middle":pTop+=(wnd.height()-this.uiDialog.height())/2}pTop=Math.max(pTop,minTop),this.uiDialog.css({top:pTop,left:pLeft})},size:function(){var container=this.uiDialogContainer,titlebar=this.uiDialogTitlebar,content=this.element,tbMargin=parseInt(content.css("margin-top"),10)+parseInt(content.css("margin-bottom"),10),lrMargin=parseInt(content.css("margin-left"),10)+parseInt(content.css("margin-right"),10);content.height(container.height()-titlebar.outerHeight()-tbMargin),content.width(container.width()-lrMargin)},open:function(){if(!this.isOpen){this.overlay=this.options.modal?new $.ui.dialog.overlay(this):null,this.uiDialog.next().length>0&&this.uiDialog.appendTo("body"),this.position(this.options.position),this.uiDialog.show(this.options.show),this.options.autoResize&&this.size(),this.moveToTop(!0);var openEV=null,openUI={options:this.options};this.uiDialogTitlebarClose.focus(),this.element.triggerHandler("dialogopen",[openEV,openUI],this.options.open),this.isOpen=!0}},moveToTop:function(force){if(this.options.modal&&!force||!this.options.stack&&!this.options.modal)return this.element.triggerHandler("dialogfocus",[null,{options:this.options}],this.options.focus);var maxZ=this.options.zIndex,options=this.options;$(".ui-dialog:visible").each(function(){maxZ=Math.max(maxZ,parseInt($(this).css("z-index"),10)||options.zIndex)}),this.overlay&&this.overlay.$el.css("z-index",++maxZ),this.uiDialog.css("z-index",++maxZ),this.element.triggerHandler("dialogfocus",[null,{options:this.options}],this.options.focus)},close:function(){this.overlay&&this.overlay.destroy(),this.uiDialog.hide(this.options.hide);var closeEV=null,closeUI={options:this.options};this.element.triggerHandler("dialogclose",[closeEV,closeUI],this.options.close),$.ui.dialog.overlay.resize(),this.isOpen=!1},destroy:function(){this.overlay&&this.overlay.destroy(),this.uiDialog.hide(),this.element.unbind(".dialog").removeData("dialog").removeClass("ui-dialog-content").hide().appendTo("body"),this.uiDialog.remove()},createButtons:function(buttons){var self=this,hasButtons=!1,uiDialogButtonPane=this.uiDialogButtonPane;uiDialogButtonPane.empty().hide(),$.each(buttons,function(){return!(hasButtons=!0)}),hasButtons&&(uiDialogButtonPane.show(),$.each(buttons,function(name,fn){$("<button/>").text(name).click(function(){fn.apply(self.element[0],arguments)}).appendTo(uiDialogButtonPane)}))}}),$.extend($.ui.dialog,{defaults:{autoOpen:!0,autoResize:!0,bgiframe:!1,buttons:{},closeOnEscape:!0,draggable:!0,height:200,minHeight:100,minWidth:150,modal:!1,overlay:{},position:"center",resizable:!0,stack:!0,width:300,zIndex:1e3},overlay:function(dialog){this.$el=$.ui.dialog.overlay.create(dialog)}}),$.extend($.ui.dialog.overlay,{instances:[],events:$.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(e){return e+".dialog-overlay"}).join(" "),create:function(dialog){0===this.instances.length&&(setTimeout(function(){$("a, :input").bind($.ui.dialog.overlay.events,function(){var allow=!1,$dialog=$(this).parents(".ui-dialog");if($dialog.length){var $overlays=$(".ui-dialog-overlay");if($overlays.length){var maxZ=parseInt($overlays.css("z-index"),10);$overlays.each(function(){maxZ=Math.max(maxZ,parseInt($(this).css("z-index"),10))}),allow=parseInt($dialog.css("z-index"),10)>maxZ}else allow=!0}return allow})},1),$(document).bind("keydown.dialog-overlay",function(e){var ESC=27;e.keyCode&&e.keyCode==ESC&&dialog.close()}),$(window).bind("resize.dialog-overlay",$.ui.dialog.overlay.resize));var $el=$("<div/>").appendTo(document.body).addClass("ui-dialog-overlay").css($.extend({borderWidth:0,margin:0,padding:0,position:"absolute",top:0,left:0,width:this.width(),height:this.height()},dialog.options.overlay));return dialog.options.bgiframe&&$.fn.bgiframe&&$el.bgiframe(),this.instances.push($el),$el},destroy:function($el){this.instances.splice($.inArray(this.instances,$el),1),0===this.instances.length&&$("a, :input").add([document,window]).unbind(".dialog-overlay"),$el.remove()},height:function(){if($.browser.msie&&$.browser.version<7){var scrollHeight=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),offsetHeight=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight);return offsetHeight>scrollHeight?$(window).height()+"px":scrollHeight+"px"}return $(document).height()+"px"},width:function(){if($.browser.msie&&$.browser.version<7){var scrollWidth=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),offsetWidth=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth);return offsetWidth>scrollWidth?$(window).width()+"px":scrollWidth+"px"}return $(document).width()+"px"},resize:function(){var $overlays=$([]);$.each($.ui.dialog.overlay.instances,function(){$overlays=$overlays.add(this)}),$overlays.css({width:0,height:0}).css({width:$.ui.dialog.overlay.width(),height:$.ui.dialog.overlay.height()})}}),$.extend($.ui.dialog.overlay.prototype,{destroy:function(){$.ui.dialog.overlay.destroy(this.$el)}})}(jQuery),function($){$.fn.unwrap=$.fn.unwrap||function(expr){return this.each(function(){$(this).parents(expr).eq(0).after(this).remove()})},$.widget("ui.slider",{plugins:{},ui:function(){return{options:this.options,handle:this.currentHandle,value:"both"==this.options.axis&&this.options.axis?{x:Math.round(this.value(null,"x")),y:Math.round(this.value(null,"y"))}:Math.round(this.value(null,"vertical"==this.options.axis?"y":"x")),range:this.getRange()}},propagate:function(n,e){$.ui.plugin.call(this,n,[e,this.ui()]),this.element.triggerHandler("slide"==n?n:"slide"+n,[e,this.ui()],this.options[n])},destroy:function(){this.element.removeClass("ui-slider ui-slider-disabled").removeData("slider").unbind(".slider"),this.handle&&this.handle.length&&(this.handle.unwrap("a"),this.handle.each(function(){$(this).data("mouse").mouseDestroy()})),this.generated&&this.generated.remove()},setData:function(key,value){$.widget.prototype.setData.apply(this,arguments),/min|max|steps/.test(key)&&this.initBoundaries(),"range"==key&&(value?2==this.handle.length&&this.createRange():this.removeRange())},init:function(){var self=this;this.element.addClass("ui-slider"),this.initBoundaries(),this.handle=$(this.options.handle,this.element),this.handle.length||(self.handle=self.generated=$(self.options.handles||[0]).map(function(){var handle=$("<div/>").addClass("ui-slider-handle").appendTo(self.element);return this.id&&handle.attr("id",this.id),handle[0]}));var handleclass=function(el){this.element=$(el),this.element.data("mouse",this),this.options=self.options,this.element.bind("mousedown",function(){self.currentHandle&&this.blur(self.currentHandle),self.focus(this,1)}),this.mouseInit()};$.extend(handleclass.prototype,$.ui.mouse,{mouseStart:function(e){return self.start.call(self,e,this.element[0])},mouseStop:function(e){return self.stop.call(self,e,this.element[0])},mouseDrag:function(e){return self.drag.call(self,e,this.element[0])},mouseCapture:function(){return!0},trigger:function(e){this.mouseDown(e)}}),$(this.handle).each(function(){new handleclass(this)}).wrap('<a href="javascript:void(0)" style="outline:none;border:none;"></a>').parent().bind("focus",function(){self.focus(this.firstChild)}).bind("blur",function(){self.blur(this.firstChild)}).bind("keydown",function(e){self.options.noKeyboard||self.keydown(e.keyCode,this.firstChild)}),this.element.bind("mousedown.slider",function(e){self.click.apply(self,[e]),self.currentHandle.data("mouse").trigger(e),self.firstValue=self.firstValue+1}),$.each(this.options.handles||[],function(index,handle){self.moveTo(handle.start,index,!0)}),isNaN(this.options.startValue)||this.moveTo(this.options.startValue,0,!0),this.previousHandle=$(this.handle[0]),2==this.handle.length&&this.options.range&&this.createRange()},initBoundaries:function(){var element=this.element[0],o=this.options;this.actualSize={width:this.element.outerWidth(),height:this.element.outerHeight()},$.extend(o,{axis:o.axis||(element.offsetWidth<element.offsetHeight?"vertical":"horizontal"),max:isNaN(parseInt(o.max,10))?{x:o.max&&o.max.x||100,y:o.max&&o.max.y||100}:{x:parseInt(o.max,10),y:parseInt(o.max,10)},min:isNaN(parseInt(o.min,10))?{x:o.min&&o.min.x||0,y:o.min&&o.min.y||0}:{x:parseInt(o.min,10),y:parseInt(o.min,10)}}),o.realMax={x:o.max.x-o.min.x,y:o.max.y-o.min.y},o.stepping={x:o.stepping&&o.stepping.x||parseInt(o.stepping,10)||(o.steps?o.realMax.x/(o.steps.x||parseInt(o.steps,10)||o.realMax.x):0),y:o.stepping&&o.stepping.y||parseInt(o.stepping,10)||(o.steps?o.realMax.y/(o.steps.y||parseInt(o.steps,10)||o.realMax.y):0)}},keydown:function(keyCode,handle){/(37|38|39|40)/.test(keyCode)&&this.moveTo({x:/(37|39)/.test(keyCode)?(37==keyCode?"-":"+")+"="+this.oneStep("x"):0,y:/(38|40)/.test(keyCode)?(38==keyCode?"-":"+")+"="+this.oneStep("y"):0},handle)},focus:function(handle,hard){this.currentHandle=$(handle).addClass("ui-slider-handle-active"),hard&&this.currentHandle.parent()[0].focus()},blur:function(handle){$(handle).removeClass("ui-slider-handle-active"),this.currentHandle&&this.currentHandle[0]==handle&&(this.previousHandle=this.currentHandle,this.currentHandle=null)},click:function(e){var clickedHandle=([e.pageX,e.pageY],!1);this.handle.each(function(){this==e.target&&(clickedHandle=!0)}),clickedHandle||this.options.disabled||!this.currentHandle&&!this.previousHandle||(!this.currentHandle&&this.previousHandle&&this.focus(this.previousHandle,!0),this.offset=this.element.offset(),this.moveTo({y:this.convertValue(e.pageY-this.offset.top-this.currentHandle[0].offsetHeight/2,"y"),x:this.convertValue(e.pageX-this.offset.left-this.currentHandle[0].offsetWidth/2,"x")},null,!this.options.distance))},createRange:function(){this.rangeElement||(this.rangeElement=$("<div></div>").addClass("ui-slider-range").css({position:"absolute"}).appendTo(this.element),this.updateRange())},removeRange:function(){this.rangeElement.remove(),this.rangeElement=null},updateRange:function(){var prop="vertical"==this.options.axis?"top":"left",size="vertical"==this.options.axis?"height":"width";this.rangeElement.css(prop,(parseInt($(this.handle[0]).css(prop),10)||0)+this.handleSize(0,"vertical"==this.options.axis?"y":"x")/2),this.rangeElement.css(size,(parseInt($(this.handle[1]).css(prop),10)||0)-(parseInt($(this.handle[0]).css(prop),10)||0))},getRange:function(){return this.rangeElement?this.convertValue(parseInt(this.rangeElement.css("vertical"==this.options.axis?"height":"width"),10),"vertical"==this.options.axis?"y":"x"):null},handleIndex:function(){return this.handle.index(this.currentHandle[0])},value:function(handle,axis){1==this.handle.length&&(this.currentHandle=this.handle),axis||(axis="vertical"==this.options.axis?"y":"x");var curHandle=$(void 0!=handle&&null!==handle?this.handle[handle]||handle:this.currentHandle);return curHandle.data("mouse").sliderValue?parseInt(curHandle.data("mouse").sliderValue[axis],10):parseInt(parseInt(curHandle.css("x"==axis?"left":"top"),10)/(this.actualSize["x"==axis?"width":"height"]-this.handleSize(handle,axis))*this.options.realMax[axis]+this.options.min[axis],10)},convertValue:function(value,axis){return this.options.min[axis]+value/(this.actualSize["x"==axis?"width":"height"]-this.handleSize(null,axis))*this.options.realMax[axis]},translateValue:function(value,axis){return(value-this.options.min[axis])/this.options.realMax[axis]*(this.actualSize["x"==axis?"width":"height"]-this.handleSize(null,axis))},translateRange:function(value,axis){if(this.rangeElement&&(this.currentHandle[0]==this.handle[0]&&value>=this.translateValue(this.value(1),axis)&&(value=this.translateValue(this.value(1,axis)-this.oneStep(axis),axis)),this.currentHandle[0]==this.handle[1]&&value<=this.translateValue(this.value(0),axis)&&(value=this.translateValue(this.value(0,axis)+this.oneStep(axis),axis))),this.options.handles){var handle=this.options.handles[this.handleIndex()];value<this.translateValue(handle.min,axis)?value=this.translateValue(handle.min,axis):value>this.translateValue(handle.max,axis)&&(value=this.translateValue(handle.max,axis))}return value},translateLimits:function(value,axis){return value>=this.actualSize["x"==axis?"width":"height"]-this.handleSize(null,axis)&&(value=this.actualSize["x"==axis?"width":"height"]-this.handleSize(null,axis)),0>=value&&(value=0),value},handleSize:function(handle,axis){return $(void 0!=handle&&null!==handle?this.handle[handle]:this.currentHandle)[0]["offset"+("x"==axis?"Width":"Height")]},oneStep:function(axis){return this.options.stepping[axis]||1},start:function(e,handle){var o=this.options;return o.disabled?!1:(this.actualSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.currentHandle||this.focus(this.previousHandle,!0),this.offset=this.element.offset(),this.handleOffset=this.currentHandle.offset(),this.clickOffset={top:e.pageY-this.handleOffset.top,left:e.pageX-this.handleOffset.left},this.firstValue=this.value(),this.propagate("start",e),this.drag(e,handle),!0)},stop:function(e){return this.propagate("stop",e),this.firstValue!=this.value()&&this.propagate("change",e),this.focus(this.currentHandle,!0),!1},drag:function(e){var o=this.options,position={top:e.pageY-this.offset.top-this.clickOffset.top,left:e.pageX-this.offset.left-this.clickOffset.left};if(this.currentHandle||this.focus(this.previousHandle,!0),position.left=this.translateLimits(position.left,"x"),position.top=this.translateLimits(position.top,"y"),o.stepping.x){var value=this.convertValue(position.left,"x");value=Math.round(value/o.stepping.x)*o.stepping.x,position.left=this.translateValue(value,"x")}if(o.stepping.y){var value=this.convertValue(position.top,"y");value=Math.round(value/o.stepping.y)*o.stepping.y,position.top=this.translateValue(value,"y")}return position.left=this.translateRange(position.left,"x"),position.top=this.translateRange(position.top,"y"),"vertical"!=o.axis&&this.currentHandle.css({left:position.left}),"horizontal"!=o.axis&&this.currentHandle.css({top:position.top}),this.currentHandle.data("mouse").sliderValue={x:Math.round(this.convertValue(position.left,"x"))||0,y:Math.round(this.convertValue(position.top,"y"))||0},this.rangeElement&&this.updateRange(),this.propagate("slide",e),!1
},moveTo:function(value,handle,noPropagation){var o=this.options;if(this.actualSize={width:this.element.outerWidth(),height:this.element.outerHeight()},void 0==handle&&!this.currentHandle&&1!=this.handle.length)return!1;if(void 0!=handle||this.currentHandle||(handle=0),void 0!=handle&&(this.currentHandle=this.previousHandle=$(this.handle[handle]||handle)),void 0!==value.x&&void 0!==value.y)var x=value.x,y=value.y;else var x=value,y=value;if(void 0!==x&&x.constructor!=Number){var me=/^\-\=/.test(x),pe=/^\+\=/.test(x);x=me||pe?this.value(null,"x")+parseInt(x.replace(me?"=":"+=",""),10):isNaN(parseInt(x,10))?void 0:parseInt(x,10)}if(void 0!==y&&y.constructor!=Number){var me=/^\-\=/.test(y),pe=/^\+\=/.test(y);y=me||pe?this.value(null,"y")+parseInt(y.replace(me?"=":"+=",""),10):isNaN(parseInt(y,10))?void 0:parseInt(y,10)}"vertical"!=o.axis&&void 0!==x&&(o.stepping.x&&(x=Math.round(x/o.stepping.x)*o.stepping.x),x=this.translateValue(x,"x"),x=this.translateLimits(x,"x"),x=this.translateRange(x,"x"),o.animate?this.currentHandle.stop().animate({left:x},Math.abs(parseInt(this.currentHandle.css("left"))-x)*(isNaN(parseInt(o.animate))?5:o.animate)):this.currentHandle.css({left:x})),"horizontal"!=o.axis&&void 0!==y&&(o.stepping.y&&(y=Math.round(y/o.stepping.y)*o.stepping.y),y=this.translateValue(y,"y"),y=this.translateLimits(y,"y"),y=this.translateRange(y,"y"),o.animate?this.currentHandle.stop().animate({top:y},Math.abs(parseInt(this.currentHandle.css("top"))-y)*(isNaN(parseInt(o.animate))?5:o.animate)):this.currentHandle.css({top:y})),this.rangeElement&&this.updateRange(),this.currentHandle.data("mouse").sliderValue={x:Math.round(this.convertValue(x,"x"))||0,y:Math.round(this.convertValue(y,"y"))||0},noPropagation||(this.propagate("start",null),this.propagate("stop",null),this.propagate("change",null),this.propagate("slide",null))}}),$.ui.slider.getter="value",$.ui.slider.defaults={handle:".ui-slider-handle",distance:1,animate:!1}}(jQuery),function($){$.widget("ui.tabs",{init:function(){this.options.event+=".tabs",this.tabify(!0)},setData:function(key,value){/^selected/.test(key)?this.select(value):(this.options[key]=value,this.tabify())},length:function(){return this.$tabs.length},tabId:function(a){return a.title&&a.title.replace(/\s/g,"_").replace(/[^A-Za-z0-9\-_:\.]/g,"")||this.options.idPrefix+$.data(a)},ui:function(tab,panel){return{options:this.options,tab:tab,panel:panel,index:this.$tabs.index(tab)}},tabify:function(init){function hideTab(clicked,$hide,$show){$hide.animate(hideFx,hideFx.duration||baseDuration,function(){$hide.addClass(o.hideClass).css(resetCSS),$.browser.msie&&hideFx.opacity&&($hide[0].style.filter=""),$show&&showTab(clicked,$show,$hide)})}function showTab(clicked,$show){showFx===baseFx&&$show.css("display","block"),$show.animate(showFx,showFx.duration||baseDuration,function(){$show.removeClass(o.hideClass).css(resetCSS),$.browser.msie&&showFx.opacity&&($show[0].style.filter=""),$(self.element).triggerHandler("tabsshow",[self.fakeEvent("tabsshow"),self.ui(clicked,$show[0])],o.show)})}function switchTab(clicked,$li,$hide,$show){$li.addClass(o.selectedClass).siblings().removeClass(o.selectedClass),hideTab(clicked,$hide,$show)}this.$lis=$("li:has(a[href])",this.element),this.$tabs=this.$lis.map(function(){return $("a",this)[0]}),this.$panels=$([]);var self=this,o=this.options;if(this.$tabs.each(function(i,a){if(a.hash&&a.hash.replace("#",""))self.$panels=self.$panels.add(a.hash);else if("#"!=$(a).attr("href")){$.data(a,"href.tabs",a.href),$.data(a,"load.tabs",a.href);var id=self.tabId(a);a.href="#"+id;var $panel=$("#"+id);$panel.length||($panel=$(o.panelTemplate).attr("id",id).addClass(o.panelClass).insertAfter(self.$panels[i-1]||self.element),$panel.data("destroy.tabs",!0)),self.$panels=self.$panels.add($panel)}else o.disabled.push(i+1)}),init){if(this.element.addClass(o.navClass),this.$panels.each(function(){var $this=$(this);$this.addClass(o.panelClass)}),void 0===o.selected)if(location.hash)this.$tabs.each(function(i,a){if(a.hash==location.hash){if(o.selected=i,$.browser.msie||$.browser.opera){var $toShow=$(location.hash),toShowId=$toShow.attr("id");$toShow.attr("id",""),setTimeout(function(){$toShow.attr("id",toShowId)},500)}return scrollTo(0,0),!1}});else if(o.cookie){var index=parseInt($.cookie("ui-tabs"+$.data(self.element)),10);index&&self.$tabs[index]&&(o.selected=index)}else self.$lis.filter("."+o.selectedClass).length&&(o.selected=self.$lis.index(self.$lis.filter("."+o.selectedClass)[0]));if(o.selected=null===o.selected||void 0!==o.selected?o.selected:0,o.disabled=$.unique(o.disabled.concat($.map(this.$lis.filter("."+o.disabledClass),function(n){return self.$lis.index(n)}))).sort(),-1!=$.inArray(o.selected,o.disabled)&&o.disabled.splice($.inArray(o.selected,o.disabled),1),this.$panels.addClass(o.hideClass),this.$lis.removeClass(o.selectedClass),null!==o.selected){this.$panels.eq(o.selected).show().removeClass(o.hideClass),this.$lis.eq(o.selected).addClass(o.selectedClass);var onShow=function(){$(self.element).triggerHandler("tabsshow",[self.fakeEvent("tabsshow"),self.ui(self.$tabs[o.selected],self.$panels[o.selected])],o.show)};$.data(this.$tabs[o.selected],"load.tabs")?this.load(o.selected,onShow):onShow()}$(window).bind("unload",function(){self.$tabs.unbind(".tabs"),self.$lis=self.$tabs=self.$panels=null})}for(var li,i=0;li=this.$lis[i];i++)$(li)[-1==$.inArray(i,o.disabled)||$(li).hasClass(o.selectedClass)?"removeClass":"addClass"](o.disabledClass);o.cache===!1&&this.$tabs.removeData("cache.tabs");var hideFx,showFx,baseFx={"min-width":0,duration:1},baseDuration="normal";o.fx&&o.fx.constructor==Array?(hideFx=o.fx[0]||baseFx,showFx=o.fx[1]||baseFx):hideFx=showFx=o.fx||baseFx;var resetCSS={display:"",overflow:"",height:""};$.browser.msie||(resetCSS.opacity=""),this.$tabs.unbind(".tabs").bind(o.event,function(){var $li=$(this).parents("li:eq(0)"),$hide=self.$panels.filter(":visible"),$show=$(this.hash);if($li.hasClass(o.selectedClass)&&!o.unselect||$li.hasClass(o.disabledClass)||$(this).hasClass(o.loadingClass)||$(self.element).triggerHandler("tabsselect",[self.fakeEvent("tabsselect"),self.ui(this,$show[0])],o.select)===!1)return this.blur(),!1;if(self.options.selected=self.$tabs.index(this),o.unselect){if($li.hasClass(o.selectedClass))return self.options.selected=null,$li.removeClass(o.selectedClass),self.$panels.stop(),hideTab(this,$hide),this.blur(),!1;if(!$hide.length){self.$panels.stop();var a=this;return self.load(self.$tabs.index(this),function(){$li.addClass(o.selectedClass).addClass(o.unselectClass),showTab(a,$show)}),this.blur(),!1}}if(o.cookie&&$.cookie("ui-tabs"+$.data(self.element),self.options.selected,o.cookie),self.$panels.stop(),!$show.length)throw"jQuery UI Tabs: Mismatching fragment identifier.";var a=this;return self.load(self.$tabs.index(this),$hide.length?function(){switchTab(a,$li,$hide,$show)}:function(){$li.addClass(o.selectedClass),showTab(a,$show)}),$.browser.msie&&this.blur(),!1}),/^click/.test(o.event)||this.$tabs.bind("click.tabs",function(){return!1})},add:function(url,label,index){void 0==index&&(index=this.$tabs.length);var o=this.options,$li=$(o.tabTemplate.replace(/#\{href\}/g,url).replace(/#\{label\}/g,label));$li.data("destroy.tabs",!0);var id=0==url.indexOf("#")?url.replace("#",""):this.tabId($("a:first-child",$li)[0]),$panel=$("#"+id);if($panel.length||($panel=$(o.panelTemplate).attr("id",id).addClass(o.hideClass).data("destroy.tabs",!0)),$panel.addClass(o.panelClass),index>=this.$lis.length?($li.appendTo(this.element),$panel.appendTo(this.element[0].parentNode)):($li.insertBefore(this.$lis[index]),$panel.insertBefore(this.$panels[index])),o.disabled=$.map(o.disabled,function(n){return n>=index?++n:n}),this.tabify(),1==this.$tabs.length){$li.addClass(o.selectedClass),$panel.removeClass(o.hideClass);var href=$.data(this.$tabs[0],"load.tabs");href&&this.load(index,href)}this.element.triggerHandler("tabsadd",[this.fakeEvent("tabsadd"),this.ui(this.$tabs[index],this.$panels[index])],o.add)},remove:function(index){var o=this.options,$li=this.$lis.eq(index).remove(),$panel=this.$panels.eq(index).remove();$li.hasClass(o.selectedClass)&&this.$tabs.length>1&&this.select(index+(index+1<this.$tabs.length?1:-1)),o.disabled=$.map($.grep(o.disabled,function(n){return n!=index}),function(n){return n>=index?--n:n}),this.tabify(),this.element.triggerHandler("tabsremove",[this.fakeEvent("tabsremove"),this.ui($li.find("a")[0],$panel[0])],o.remove)},enable:function(index){var o=this.options;if(-1!=$.inArray(index,o.disabled)){var $li=this.$lis.eq(index).removeClass(o.disabledClass);$.browser.safari&&($li.css("display","inline-block"),setTimeout(function(){$li.css("display","block")},0)),o.disabled=$.grep(o.disabled,function(n){return n!=index}),this.element.triggerHandler("tabsenable",[this.fakeEvent("tabsenable"),this.ui(this.$tabs[index],this.$panels[index])],o.enable)}},disable:function(index){var o=this.options;index!=o.selected&&(this.$lis.eq(index).addClass(o.disabledClass),o.disabled.push(index),o.disabled.sort(),this.element.triggerHandler("tabsdisable",[this.fakeEvent("tabsdisable"),this.ui(this.$tabs[index],this.$panels[index])],o.disable))},select:function(index){"string"==typeof index&&(index=this.$tabs.index(this.$tabs.filter("[href$="+index+"]")[0])),this.$tabs.eq(index).trigger(this.options.event)},load:function(index,callback){var self=this,o=this.options,$a=this.$tabs.eq(index),a=$a[0],bypassCache=void 0==callback||callback===!1,url=$a.data("load.tabs");if(callback=callback||function(){},!url||!bypassCache&&$.data(a,"cache.tabs"))return void callback();var inner=function(parent){var $parent=$(parent),$inner=$parent.find("*:last");return $inner.length&&$inner.is(":not(img)")&&$inner||$parent},cleanup=function(){self.$tabs.filter("."+o.loadingClass).removeClass(o.loadingClass).each(function(){o.spinner&&inner(this).parent().html(inner(this).data("label.tabs"))}),self.xhr=null};if(o.spinner){var label=inner(a).html();inner(a).wrapInner("<em></em>").find("em").data("label.tabs",label).html(o.spinner)}var ajaxOptions=$.extend({},o.ajaxOptions,{url:url,success:function(r,s){$(a.hash).html(r),cleanup(),o.cache&&$.data(a,"cache.tabs",!0),$(self.element).triggerHandler("tabsload",[self.fakeEvent("tabsload"),self.ui(self.$tabs[index],self.$panels[index])],o.load),o.ajaxOptions.success&&o.ajaxOptions.success(r,s),callback()}});this.xhr&&(this.xhr.abort(),cleanup()),$a.addClass(o.loadingClass),setTimeout(function(){self.xhr=$.ajax(ajaxOptions)},0)},url:function(index,url){this.$tabs.eq(index).removeData("cache.tabs").data("load.tabs",url)},destroy:function(){var o=this.options;this.element.unbind(".tabs").removeClass(o.navClass).removeData("tabs"),this.$tabs.each(function(){var href=$.data(this,"href.tabs");href&&(this.href=href);var $this=$(this).unbind(".tabs");$.each(["href","load","cache"],function(i,prefix){$this.removeData(prefix+".tabs")})}),this.$lis.add(this.$panels).each(function(){$.data(this,"destroy.tabs")?$(this).remove():$(this).removeClass([o.selectedClass,o.unselectClass,o.disabledClass,o.panelClass,o.hideClass].join(" "))})},fakeEvent:function(type){return $.event.fix({type:type,target:this.element[0]})}}),$.ui.tabs.defaults={unselect:!1,event:"click",disabled:[],cookie:null,spinner:"Loading&#8230;",cache:!1,idPrefix:"ui-tabs-",ajaxOptions:{},fx:null,tabTemplate:'<li><a href="#{href}"><span>#{label}</span></a></li>',panelTemplate:"<div></div>",navClass:"ui-tabs-nav",selectedClass:"ui-tabs-selected",unselectClass:"ui-tabs-unselect",disabledClass:"ui-tabs-disabled",panelClass:"ui-tabs-panel",hideClass:"ui-tabs-hide",loadingClass:"ui-tabs-loading"},$.ui.tabs.getter="length",$.extend($.ui.tabs.prototype,{rotation:null,rotate:function(ms,continuing){function start(){self.rotation=setInterval(function(){t=++t<self.$tabs.length?t:0,self.select(t)},ms)}function stop(e){(!e||e.clientX)&&clearInterval(self.rotation)}continuing=continuing||!1;var self=this,t=this.options.selected;ms?(start(),continuing?this.$tabs.bind(this.options.event,function(){stop(),t=self.options.selected,start()}):this.$tabs.bind(this.options.event,stop)):(stop(),this.$tabs.unbind(this.options.event,stop))}})}(jQuery),function($){function Datepicker(){this.debug=!1,this._curInst=null,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._promptClass="ui-datepicker-prompt",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this.regional=[],this.regional[""]={clearText:"Clear",clearStatus:"Erase the current date",closeText:"Close",closeStatus:"Close without change",prevText:"&#x3c;Prev",prevStatus:"Show the previous month",nextText:"Next&#x3e;",nextStatus:"Show the next month",currentText:"Today",currentStatus:"Show the current month",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],monthStatus:"Show a different month",yearStatus:"Show a different year",weekHeader:"Wk",weekStatus:"Week of the year",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],dayStatus:"Set DD as first week day",dateStatus:"Select DD, M d",dateFormat:"mm/dd/yy",firstDay:0,initStatus:"Select a date",isRTL:!1},this._defaults={showOn:"focus",showAnim:"show",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,closeAtTop:!0,mandatory:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!0,changeYear:!0,yearRange:"-10:+10",changeFirstDay:!0,highlightWeek:!1,showOtherMonths:!1,showWeeks:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",showStatus:!1,statusForDate:this.dateStatus,minDate:null,maxDate:null,duration:"normal",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,stepMonths:1,rangeSelect:!1,rangeSeparator:" - ",altField:"",altFormat:""},$.extend(this._defaults,this.regional[""]),this.dpDiv=$('<div id="'+this._mainDivId+'" style="display: none;"></div>')}function extendRemove(target,props){$.extend(target,props);for(var name in props)(null==props[name]||void 0==props[name])&&(target[name]=props[name]);return target}function isArray(a){return a&&($.browser.safari&&"object"==typeof a&&a.length||a.constructor&&a.constructor.toString().match(/\Array\(\)/))}var PROP_NAME="datepicker";$.extend(Datepicker.prototype,{markerClassName:"hasDatepicker",log:function(){this.debug&&console.log.apply("",arguments)},setDefaults:function(settings){return extendRemove(this._defaults,settings||{}),this},_attachDatepicker:function(target,settings){var inlineSettings=null;for(attrName in this._defaults){var attrValue=target.getAttribute("date:"+attrName);if(attrValue){inlineSettings=inlineSettings||{};try{inlineSettings[attrName]=eval(attrValue)}catch(err){inlineSettings[attrName]=attrValue}}}var nodeName=target.nodeName.toLowerCase(),inline="div"==nodeName||"span"==nodeName;target.id||(target.id="dp"+(new Date).getTime());var inst=this._newInst($(target),inline);inst.settings=$.extend({},settings||{},inlineSettings||{}),"input"==nodeName?this._connectDatepicker(target,inst):inline&&this._inlineDatepicker(target,inst)},_newInst:function(target,inline){return{id:target[0].id,input:target,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:inline,dpDiv:inline?$('<div class="ui-datepicker-inline"></div>'):this.dpDiv}},_connectDatepicker:function(target,inst){var input=$(target);if(!input.hasClass(this.markerClassName)){var appendText=this._get(inst,"appendText"),isRTL=this._get(inst,"isRTL");appendText&&input[isRTL?"before":"after"]('<span class="'+this._appendClass+'">'+appendText+"</span>");var showOn=this._get(inst,"showOn");if(("focus"==showOn||"both"==showOn)&&input.focus(this._showDatepicker),"button"==showOn||"both"==showOn){var buttonText=this._get(inst,"buttonText"),buttonImage=this._get(inst,"buttonImage"),trigger=$(this._get(inst,"buttonImageOnly")?$("<img/>").addClass(this._triggerClass).attr({src:buttonImage,alt:buttonText,title:buttonText}):$('<button type="button"></button>').addClass(this._triggerClass).html(""==buttonImage?buttonText:$("<img/>").attr({src:buttonImage,alt:buttonText,title:buttonText})));input[isRTL?"before":"after"](trigger),trigger.click(function(){return $.datepicker._datepickerShowing&&$.datepicker._lastInput==target?$.datepicker._hideDatepicker():$.datepicker._showDatepicker(target),!1})}input.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).bind("setData.datepicker",function(event,key,value){inst.settings[key]=value}).bind("getData.datepicker",function(event,key){return this._get(inst,key)}),$.data(target,PROP_NAME,inst)}},_inlineDatepicker:function(target,inst){var input=$(target);input.hasClass(this.markerClassName)||(input.addClass(this.markerClassName).append(inst.dpDiv).bind("setData.datepicker",function(event,key,value){inst.settings[key]=value}).bind("getData.datepicker",function(event,key){return this._get(inst,key)}),$.data(target,PROP_NAME,inst),this._setDate(inst,this._getDefaultDate(inst)),this._updateDatepicker(inst))},_dialogDatepicker:function(input,dateText,onSelect,settings,pos){var inst=this._dialogInst;if(!inst){var id="dp"+(new Date).getTime();this._dialogInput=$('<input type="text" id="'+id+'" size="1" style="position: absolute; top: -100px;"/>'),this._dialogInput.keydown(this._doKeyDown),$("body").append(this._dialogInput),inst=this._dialogInst=this._newInst(this._dialogInput,!1),inst.settings={},$.data(this._dialogInput[0],PROP_NAME,inst)}if(extendRemove(inst.settings,settings||{}),this._dialogInput.val(dateText),this._pos=pos?pos.length?pos:[pos.pageX,pos.pageY]:null,!this._pos){var browserWidth=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,browserHeight=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,scrollX=document.documentElement.scrollLeft||document.body.scrollLeft,scrollY=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[browserWidth/2-100+scrollX,browserHeight/2-150+scrollY]}return this._dialogInput.css("left",this._pos[0]+"px").css("top",this._pos[1]+"px"),inst.settings.onSelect=onSelect,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),$.blockUI&&$.blockUI(this.dpDiv),$.data(this._dialogInput[0],PROP_NAME,inst),this},_destroyDatepicker:function(target){var nodeName=target.nodeName.toLowerCase(),$target=$(target);$.removeData(target,PROP_NAME),"input"==nodeName?$target.siblings("."+this._appendClass).remove().end().siblings("."+this._triggerClass).remove().end().removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress):("div"==nodeName||"span"==nodeName)&&$target.removeClass(this.markerClassName).empty()},_enableDatepicker:function(target){target.disabled=!1,$(target).siblings("button."+this._triggerClass).each(function(){this.disabled=!1}).end().siblings("img."+this._triggerClass).css({opacity:"1.0",cursor:""}),this._disabledInputs=$.map(this._disabledInputs,function(value){return value==target?null:value})},_disableDatepicker:function(target){target.disabled=!0,$(target).siblings("button."+this._triggerClass).each(function(){this.disabled=!0}).end().siblings("img."+this._triggerClass).css({opacity:"0.5",cursor:"default"}),this._disabledInputs=$.map(this._disabledInputs,function(value){return value==target?null:value}),this._disabledInputs[this._disabledInputs.length]=target},_isDisabledDatepicker:function(target){if(!target)return!1;for(var i=0;i<this._disabledInputs.length;i++)if(this._disabledInputs[i]==target)return!0;return!1},_changeDatepicker:function(target,name,value){var settings=name||{};"string"==typeof name&&(settings={},settings[name]=value),(inst=$.data(target,PROP_NAME))&&(extendRemove(inst.settings,settings),this._updateDatepicker(inst))},_setDateDatepicker:function(target,date,endDate){var inst=$.data(target,PROP_NAME);inst&&(this._setDate(inst,date,endDate),this._updateDatepicker(inst))},_getDateDatepicker:function(target){var inst=$.data(target,PROP_NAME);return inst&&this._setDateFromField(inst),inst?this._getDate(inst):null},_doKeyDown:function(e){var inst=$.data(e.target,PROP_NAME),handled=!0;if($.datepicker._datepickerShowing)switch(e.keyCode){case 9:$.datepicker._hideDatepicker(null,"");break;case 13:return $.datepicker._selectDay(e.target,inst.selectedMonth,inst.selectedYear,$("td.ui-datepicker-days-cell-over",inst.dpDiv)[0]),!1;case 27:$.datepicker._hideDatepicker(null,$.datepicker._get(inst,"duration"));break;case 33:$.datepicker._adjustDate(e.target,e.ctrlKey?-1:-$.datepicker._get(inst,"stepMonths"),e.ctrlKey?"Y":"M");break;case 34:$.datepicker._adjustDate(e.target,e.ctrlKey?1:+$.datepicker._get(inst,"stepMonths"),e.ctrlKey?"Y":"M");break;case 35:e.ctrlKey&&$.datepicker._clearDate(e.target);break;case 36:e.ctrlKey&&$.datepicker._gotoToday(e.target);break;case 37:e.ctrlKey&&$.datepicker._adjustDate(e.target,-1,"D");break;case 38:e.ctrlKey&&$.datepicker._adjustDate(e.target,-7,"D");break;case 39:e.ctrlKey&&$.datepicker._adjustDate(e.target,1,"D");break;case 40:e.ctrlKey&&$.datepicker._adjustDate(e.target,7,"D");break;default:handled=!1}else 36==e.keyCode&&e.ctrlKey?$.datepicker._showDatepicker(this):handled=!1;handled&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var inst=$.data(e.target,PROP_NAME),chars=$.datepicker._possibleChars($.datepicker._get(inst,"dateFormat")),chr=String.fromCharCode(void 0==e.charCode?e.keyCode:e.charCode);return e.ctrlKey||" ">chr||!chars||chars.indexOf(chr)>-1},_showDatepicker:function(input){if(input=input.target||input,"input"!=input.nodeName.toLowerCase()&&(input=$("input",input.parentNode)[0]),!$.datepicker._isDisabledDatepicker(input)&&$.datepicker._lastInput!=input){var inst=$.data(input,PROP_NAME),beforeShow=$.datepicker._get(inst,"beforeShow");extendRemove(inst.settings,beforeShow?beforeShow.apply(input,[input,inst]):{}),$.datepicker._hideDatepicker(null,""),$.datepicker._lastInput=input,$.datepicker._setDateFromField(inst),$.datepicker._inDialog&&(input.value=""),$.datepicker._pos||($.datepicker._pos=$.datepicker._findPos(input),$.datepicker._pos[1]+=input.offsetHeight);var isFixed=!1;$(input).parents().each(function(){return isFixed|="fixed"==$(this).css("position"),!isFixed}),isFixed&&$.browser.opera&&($.datepicker._pos[0]-=document.documentElement.scrollLeft,$.datepicker._pos[1]-=document.documentElement.scrollTop);var offset={left:$.datepicker._pos[0],top:$.datepicker._pos[1]};if($.datepicker._pos=null,inst.rangeStart=null,inst.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),$.datepicker._updateDatepicker(inst),inst.dpDiv.width($.datepicker._getNumberOfMonths(inst)[1]*$(".ui-datepicker",inst.dpDiv[0])[0].offsetWidth),offset=$.datepicker._checkOffset(inst,offset,isFixed),inst.dpDiv.css({position:$.datepicker._inDialog&&$.blockUI?"static":isFixed?"fixed":"absolute",display:"none",left:offset.left+"px",top:offset.top+"px"}),!inst.inline){var showAnim=$.datepicker._get(inst,"showAnim")||"show",duration=$.datepicker._get(inst,"duration"),postProcess=function(){$.datepicker._datepickerShowing=!0,$.browser.msie&&parseInt($.browser.version)<7&&$("iframe.ui-datepicker-cover").css({width:inst.dpDiv.width()+4,height:inst.dpDiv.height()+4})};$.effects&&$.effects[showAnim]?inst.dpDiv.show(showAnim,$.datepicker._get(inst,"showOptions"),duration,postProcess):inst.dpDiv[showAnim](duration,postProcess),""==duration&&postProcess(),"hidden"!=inst.input[0].type&&inst.input[0].focus(),$.datepicker._curInst=inst}}},_updateDatepicker:function(inst){var dims={width:inst.dpDiv.width()+4,height:inst.dpDiv.height()+4};inst.dpDiv.empty().append(this._generateDatepicker(inst)).find("iframe.ui-datepicker-cover").css({width:dims.width,height:dims.height});var numMonths=this._getNumberOfMonths(inst);inst.dpDiv[(1!=numMonths[0]||1!=numMonths[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),inst.dpDiv[(this._get(inst,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),inst.input&&"hidden"!=inst.input[0].type&&$(inst.input[0]).focus()},_checkOffset:function(inst,offset,isFixed){var pos=inst.input?this._findPos(inst.input[0]):null,browserWidth=window.innerWidth||document.documentElement.clientWidth,browserHeight=window.innerHeight||document.documentElement.clientHeight,scrollX=document.documentElement.scrollLeft||document.body.scrollLeft,scrollY=document.documentElement.scrollTop||document.body.scrollTop;return this._get(inst,"isRTL")||offset.left+inst.dpDiv.width()-scrollX>browserWidth?offset.left=Math.max(isFixed?0:scrollX,pos[0]+(inst.input?inst.input.width():0)-(isFixed?scrollX:0)-inst.dpDiv.width()-(isFixed&&$.browser.opera?document.documentElement.scrollLeft:0)):offset.left-=isFixed?scrollX:0,offset.top+inst.dpDiv.height()-scrollY>browserHeight?offset.top=Math.max(isFixed?0:scrollY,pos[1]-(isFixed?scrollY:0)-(this._inDialog?0:inst.dpDiv.height())-(isFixed&&$.browser.opera?document.documentElement.scrollTop:0)):offset.top-=isFixed?scrollY:0,offset},_findPos:function(obj){for(;obj&&("hidden"==obj.type||1!=obj.nodeType);)obj=obj.nextSibling;var position=$(obj).offset();return[position.left,position.top]},_hideDatepicker:function(input,duration){var inst=this._curInst;if(inst){var rangeSelect=this._get(inst,"rangeSelect");if(rangeSelect&&this._stayOpen&&this._selectDate("#"+inst.id,this._formatDate(inst,inst.currentDay,inst.currentMonth,inst.currentYear)),this._stayOpen=!1,this._datepickerShowing){duration=null!=duration?duration:this._get(inst,"duration");var showAnim=this._get(inst,"showAnim"),postProcess=function(){$.datepicker._tidyDialog(inst)};""!=duration&&$.effects&&$.effects[showAnim]?inst.dpDiv.hide(showAnim,$.datepicker._get(inst,"showOptions"),duration,postProcess):inst.dpDiv[""==duration?"hide":"slideDown"==showAnim?"slideUp":"fadeIn"==showAnim?"fadeOut":"hide"](duration,postProcess),""==duration&&this._tidyDialog(inst);var onClose=this._get(inst,"onClose");onClose&&onClose.apply(inst.input?inst.input[0]:null,[this._getDate(inst),inst]),this._datepickerShowing=!1,this._lastInput=null,inst.settings.prompt=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),$.blockUI&&($.unblockUI(),$("body").append(this.dpDiv))),this._inDialog=!1}this._curInst=null}},_tidyDialog:function(inst){inst.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker"),$("."+this._promptClass,inst.dpDiv).remove()},_checkExternalClick:function(event){if($.datepicker._curInst){var $target=$(event.target);0!=$target.parents("#"+$.datepicker._mainDivId).length||$target.hasClass($.datepicker.markerClassName)||$target.hasClass($.datepicker._triggerClass)||!$.datepicker._datepickerShowing||$.datepicker._inDialog&&$.blockUI||$.datepicker._hideDatepicker(null,"")}},_adjustDate:function(id,offset,period){var target=$(id),inst=$.data(target[0],PROP_NAME);this._adjustInstDate(inst,offset,period),this._updateDatepicker(inst)},_gotoToday:function(id){var target=$(id),inst=$.data(target[0],PROP_NAME);if(this._get(inst,"gotoCurrent")&&inst.currentDay)inst.selectedDay=inst.currentDay,inst.drawMonth=inst.selectedMonth=inst.currentMonth,inst.drawYear=inst.selectedYear=inst.currentYear;else{var date=new Date;inst.selectedDay=date.getDate(),inst.drawMonth=inst.selectedMonth=date.getMonth(),inst.drawYear=inst.selectedYear=date.getFullYear()}this._adjustDate(target),this._notifyChange(inst)},_selectMonthYear:function(id,select,period){var target=$(id),inst=$.data(target[0],PROP_NAME);inst._selectingMonthYear=!1,inst["M"==period?"drawMonth":"drawYear"]=select.options[select.selectedIndex].value-0,this._adjustDate(target),this._notifyChange(inst)},_clickMonthYear:function(id){var target=$(id),inst=$.data(target[0],PROP_NAME);inst.input&&inst._selectingMonthYear&&!$.browser.msie&&inst.input[0].focus(),inst._selectingMonthYear=!inst._selectingMonthYear},_changeFirstDay:function(id,day){var target=$(id),inst=$.data(target[0],PROP_NAME);inst.settings.firstDay=day,this._updateDatepicker(inst)},_selectDay:function(id,month,year,td){if(!$(td).hasClass(this._unselectableClass)){var target=$(id),inst=$.data(target[0],PROP_NAME),rangeSelect=this._get(inst,"rangeSelect");rangeSelect&&(this._stayOpen=!this._stayOpen,this._stayOpen&&($(".ui-datepicker td").removeClass(this._currentClass),$(td).addClass(this._currentClass))),inst.selectedDay=inst.currentDay=$("a",td).html(),inst.selectedMonth=inst.currentMonth=month,inst.selectedYear=inst.currentYear=year,this._stayOpen?inst.endDay=inst.endMonth=inst.endYear=null:rangeSelect&&(inst.endDay=inst.currentDay,inst.endMonth=inst.currentMonth,inst.endYear=inst.currentYear),this._selectDate(id,this._formatDate(inst,inst.currentDay,inst.currentMonth,inst.currentYear)),this._stayOpen?(inst.rangeStart=this._daylightSavingAdjust(new Date(inst.currentYear,inst.currentMonth,inst.currentDay)),this._updateDatepicker(inst)):rangeSelect&&(inst.selectedDay=inst.currentDay=inst.rangeStart.getDate(),inst.selectedMonth=inst.currentMonth=inst.rangeStart.getMonth(),inst.selectedYear=inst.currentYear=inst.rangeStart.getFullYear(),inst.rangeStart=null,inst.inline&&this._updateDatepicker(inst))}},_clearDate:function(id){var target=$(id),inst=$.data(target[0],PROP_NAME);this._get(inst,"mandatory")||(this._stayOpen=!1,inst.endDay=inst.endMonth=inst.endYear=inst.rangeStart=null,this._selectDate(target,""))},_selectDate:function(id,dateStr){var target=$(id),inst=$.data(target[0],PROP_NAME);dateStr=null!=dateStr?dateStr:this._formatDate(inst),this._get(inst,"rangeSelect")&&dateStr&&(dateStr=(inst.rangeStart?this._formatDate(inst,inst.rangeStart):dateStr)+this._get(inst,"rangeSeparator")+dateStr),inst.input&&inst.input.val(dateStr),this._updateAlternate(inst);var onSelect=this._get(inst,"onSelect");onSelect?onSelect.apply(inst.input?inst.input[0]:null,[dateStr,inst]):inst.input&&inst.input.trigger("change"),inst.inline?this._updateDatepicker(inst):this._stayOpen||(this._hideDatepicker(null,this._get(inst,"duration")),this._lastInput=inst.input[0],"object"!=typeof inst.input[0]&&inst.input[0].focus(),this._lastInput=null)},_updateAlternate:function(inst){var altField=this._get(inst,"altField");if(altField){var altFormat=this._get(inst,"altFormat"),date=this._getDate(inst);dateStr=isArray(date)?date[0]||date[1]?this.formatDate(altFormat,date[0],this._getFormatConfig(inst))+this._get(inst,"rangeSeparator")+this.formatDate(altFormat,date[1]||date[0],this._getFormatConfig(inst)):"":this.formatDate(altFormat,date,this._getFormatConfig(inst)),$(altField).each(function(){$(this).val(dateStr)})}},noWeekends:function(date){var day=date.getDay();return[day>0&&6>day,""]},iso8601Week:function(date){var checkDate=new Date(date.getFullYear(),date.getMonth(),date.getDate()),firstMon=new Date(checkDate.getFullYear(),0,4),firstDay=firstMon.getDay()||7;return firstMon.setDate(firstMon.getDate()+1-firstDay),4>firstDay&&firstMon>checkDate?(checkDate.setDate(checkDate.getDate()-3),$.datepicker.iso8601Week(checkDate)):checkDate>new Date(checkDate.getFullYear(),11,28)&&(firstDay=new Date(checkDate.getFullYear()+1,0,4).getDay()||7,firstDay>4&&(checkDate.getDay()||7)<firstDay-3)?(checkDate.setDate(checkDate.getDate()+3),$.datepicker.iso8601Week(checkDate)):Math.floor((checkDate-firstMon)/864e5/7)+1},dateStatus:function(date,inst){return $.datepicker.formatDate($.datepicker._get(inst,"dateStatus"),date,$.datepicker._getFormatConfig(inst))},parseDate:function(format,value,settings){if(null==format||null==value)throw"Invalid arguments";if(value="object"==typeof value?value.toString():value+"",""==value)return null;
for(var shortYearCutoff=(settings?settings.shortYearCutoff:null)||this._defaults.shortYearCutoff,dayNamesShort=(settings?settings.dayNamesShort:null)||this._defaults.dayNamesShort,dayNames=(settings?settings.dayNames:null)||this._defaults.dayNames,monthNamesShort=(settings?settings.monthNamesShort:null)||this._defaults.monthNamesShort,monthNames=(settings?settings.monthNames:null)||this._defaults.monthNames,year=-1,month=-1,day=-1,literal=!1,lookAhead=function(match){var matches=iFormat+1<format.length&&format.charAt(iFormat+1)==match;return matches&&iFormat++,matches},getNumber=function(match){lookAhead(match);for(var origSize="@"==match?14:"y"==match?4:2,size=origSize,num=0;size>0&&iValue<value.length&&value.charAt(iValue)>="0"&&value.charAt(iValue)<="9";)num=10*num+(value.charAt(iValue++)-0),size--;if(size==origSize)throw"Missing number at position "+iValue;return num},getName=function(match,shortNames,longNames){for(var names=lookAhead(match)?longNames:shortNames,size=0,j=0;j<names.length;j++)size=Math.max(size,names[j].length);for(var name="",iInit=iValue;size>0&&iValue<value.length;){name+=value.charAt(iValue++);for(var i=0;i<names.length;i++)if(name==names[i])return i+1;size--}throw"Unknown name at position "+iInit},checkLiteral=function(){if(value.charAt(iValue)!=format.charAt(iFormat))throw"Unexpected literal at position "+iValue;iValue++},iValue=0,iFormat=0;iFormat<format.length;iFormat++)if(literal)"'"!=format.charAt(iFormat)||lookAhead("'")?checkLiteral():literal=!1;else switch(format.charAt(iFormat)){case"d":day=getNumber("d");break;case"D":getName("D",dayNamesShort,dayNames);break;case"m":month=getNumber("m");break;case"M":month=getName("M",monthNamesShort,monthNames);break;case"y":year=getNumber("y");break;case"@":var date=new Date(getNumber("@"));year=date.getFullYear(),month=date.getMonth()+1,day=date.getDate();break;case"'":lookAhead("'")?checkLiteral():literal=!0;break;default:checkLiteral()}100>year&&(year+=(new Date).getFullYear()-(new Date).getFullYear()%100+(shortYearCutoff>=year?0:-100));var date=this._daylightSavingAdjust(new Date(year,month-1,day));if(date.getFullYear()!=year||date.getMonth()+1!=month||date.getDate()!=day)throw"Invalid date";return date},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TIMESTAMP:"@",W3C:"yy-mm-dd",formatDate:function(format,date,settings){if(!date)return"";var dayNamesShort=(settings?settings.dayNamesShort:null)||this._defaults.dayNamesShort,dayNames=(settings?settings.dayNames:null)||this._defaults.dayNames,monthNamesShort=(settings?settings.monthNamesShort:null)||this._defaults.monthNamesShort,monthNames=(settings?settings.monthNames:null)||this._defaults.monthNames,lookAhead=function(match){var matches=iFormat+1<format.length&&format.charAt(iFormat+1)==match;return matches&&iFormat++,matches},formatNumber=function(match,value){return(lookAhead(match)&&10>value?"0":"")+value},formatName=function(match,value,shortNames,longNames){return lookAhead(match)?longNames[value]:shortNames[value]},output="",literal=!1;if(date)for(var iFormat=0;iFormat<format.length;iFormat++)if(literal)"'"!=format.charAt(iFormat)||lookAhead("'")?output+=format.charAt(iFormat):literal=!1;else switch(format.charAt(iFormat)){case"d":output+=formatNumber("d",date.getDate());break;case"D":output+=formatName("D",date.getDay(),dayNamesShort,dayNames);break;case"m":output+=formatNumber("m",date.getMonth()+1);break;case"M":output+=formatName("M",date.getMonth(),monthNamesShort,monthNames);break;case"y":output+=lookAhead("y")?date.getFullYear():(date.getYear()%100<10?"0":"")+date.getYear()%100;break;case"@":output+=date.getTime();break;case"'":lookAhead("'")?output+="'":literal=!0;break;default:output+=format.charAt(iFormat)}return output},_possibleChars:function(format){for(var chars="",literal=!1,iFormat=0;iFormat<format.length;iFormat++)if(literal)"'"!=format.charAt(iFormat)||lookAhead("'")?chars+=format.charAt(iFormat):literal=!1;else switch(format.charAt(iFormat)){case"d":case"m":case"y":case"@":chars+="0123456789";break;case"D":case"M":return null;case"'":lookAhead("'")?chars+="'":literal=!0;break;default:chars+=format.charAt(iFormat)}return chars},_get:function(inst,name){return void 0!==inst.settings[name]?inst.settings[name]:this._defaults[name]},_setDateFromField:function(inst){var dateFormat=this._get(inst,"dateFormat"),dates=inst.input?inst.input.val().split(this._get(inst,"rangeSeparator")):null;inst.endDay=inst.endMonth=inst.endYear=null;var date=defaultDate=this._getDefaultDate(inst);if(dates.length>0){var settings=this._getFormatConfig(inst);dates.length>1&&(date=this.parseDate(dateFormat,dates[1],settings)||defaultDate,inst.endDay=date.getDate(),inst.endMonth=date.getMonth(),inst.endYear=date.getFullYear());try{date=this.parseDate(dateFormat,dates[0],settings)||defaultDate}catch(e){this.log(e),date=defaultDate}}inst.selectedDay=date.getDate(),inst.drawMonth=inst.selectedMonth=date.getMonth(),inst.drawYear=inst.selectedYear=date.getFullYear(),inst.currentDay=dates[0]?date.getDate():0,inst.currentMonth=dates[0]?date.getMonth():0,inst.currentYear=dates[0]?date.getFullYear():0,this._adjustInstDate(inst)},_getDefaultDate:function(inst){var date=this._determineDate(this._get(inst,"defaultDate"),new Date),minDate=this._getMinMaxDate(inst,"min",!0),maxDate=this._getMinMaxDate(inst,"max");return date=minDate&&minDate>date?minDate:date,date=maxDate&&date>maxDate?maxDate:date},_determineDate:function(date,defaultDate){var offsetNumeric=function(offset){var date=new Date;return date.setDate(date.getDate()+offset),date},offsetString=function(offset,getDaysInMonth){for(var date=new Date,year=date.getFullYear(),month=date.getMonth(),day=date.getDate(),pattern=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,matches=pattern.exec(offset);matches;){switch(matches[2]||"d"){case"d":case"D":day+=matches[1]-0;break;case"w":case"W":day+=7*matches[1];break;case"m":case"M":month+=matches[1]-0,day=Math.min(day,getDaysInMonth(year,month));break;case"y":case"Y":year+=matches[1]-0,day=Math.min(day,getDaysInMonth(year,month))}matches=pattern.exec(offset)}return new Date(year,month,day)};return date=null==date?defaultDate:"string"==typeof date?offsetString(date,this._getDaysInMonth):"number"==typeof date?isNaN(date)?defaultDate:offsetNumeric(date):date,date=date&&"Invalid Date"==date.toString()?defaultDate:date,date&&(date.setHours(0),date.setMinutes(0),date.setSeconds(0),date.setMilliseconds(0)),this._daylightSavingAdjust(date)},_daylightSavingAdjust:function(date){return date?(date.setHours(date.getHours()>12?date.getHours()+2:0),date):null},_setDate:function(inst,date,endDate){var clear=!date;date=this._determineDate(date,new Date),inst.selectedDay=inst.currentDay=date.getDate(),inst.drawMonth=inst.selectedMonth=inst.currentMonth=date.getMonth(),inst.drawYear=inst.selectedYear=inst.currentYear=date.getFullYear(),this._get(inst,"rangeSelect")&&(endDate?(endDate=this._determineDate(endDate,null),inst.endDay=endDate.getDate(),inst.endMonth=endDate.getMonth(),inst.endYear=endDate.getFullYear()):(inst.endDay=inst.currentDay,inst.endMonth=inst.currentMonth,inst.endYear=inst.currentYear)),this._adjustInstDate(inst),inst.input&&inst.input.val(clear?"":this._formatDate(inst)+(this._get(inst,"rangeSelect")?this._get(inst,"rangeSeparator")+this._formatDate(inst,inst.endDay,inst.endMonth,inst.endYear):""))},_getDate:function(inst){var startDate=!inst.currentYear||inst.input&&""==inst.input.val()?null:this._daylightSavingAdjust(new Date(inst.currentYear,inst.currentMonth,inst.currentDay));return this._get(inst,"rangeSelect")?[inst.rangeStart||startDate,inst.endYear?this._daylightSavingAdjust(new Date(inst.endYear,inst.endMonth,inst.endDay)):inst.rangeStart||startDate]:startDate},_generateDatepicker:function(inst){var today=new Date;today=this._daylightSavingAdjust(new Date(today.getFullYear(),today.getMonth(),today.getDate()));var showStatus=this._get(inst,"showStatus"),isRTL=this._get(inst,"isRTL"),clear=this._get(inst,"mandatory")?"":'<div class="ui-datepicker-clear"><a onclick="jQuery.datepicker._clearDate(\'#'+inst.id+"');\""+(showStatus?this._addStatus(inst,this._get(inst,"clearStatus")||"&#xa0;"):"")+">"+this._get(inst,"clearText")+"</a></div>",controls='<div class="ui-datepicker-control">'+(isRTL?"":clear)+'<div class="ui-datepicker-close"><a onclick="jQuery.datepicker._hideDatepicker();"'+(showStatus?this._addStatus(inst,this._get(inst,"closeStatus")||"&#xa0;"):"")+">"+this._get(inst,"closeText")+"</a></div>"+(isRTL?clear:"")+"</div>",prompt=this._get(inst,"prompt"),closeAtTop=this._get(inst,"closeAtTop"),hideIfNoPrevNext=this._get(inst,"hideIfNoPrevNext"),navigationAsDateFormat=this._get(inst,"navigationAsDateFormat"),numMonths=this._getNumberOfMonths(inst),stepMonths=this._get(inst,"stepMonths"),isMultiMonth=1!=numMonths[0]||1!=numMonths[1],currentDate=this._daylightSavingAdjust(inst.currentDay?new Date(inst.currentYear,inst.currentMonth,inst.currentDay):new Date(9999,9,9)),minDate=this._getMinMaxDate(inst,"min",!0),maxDate=this._getMinMaxDate(inst,"max"),drawMonth=inst.drawMonth,drawYear=inst.drawYear;if(maxDate){var maxDraw=this._daylightSavingAdjust(new Date(maxDate.getFullYear(),maxDate.getMonth()-numMonths[1]+1,maxDate.getDate()));for(maxDraw=minDate&&minDate>maxDraw?minDate:maxDraw;this._daylightSavingAdjust(new Date(drawYear,drawMonth,1))>maxDraw;)drawMonth--,0>drawMonth&&(drawMonth=11,drawYear--)}var prevText=this._get(inst,"prevText");prevText=navigationAsDateFormat?this.formatDate(prevText,this._daylightSavingAdjust(new Date(drawYear,drawMonth-stepMonths,1)),this._getFormatConfig(inst)):prevText;var prev='<div class="ui-datepicker-prev">'+(this._canAdjustMonth(inst,-1,drawYear,drawMonth)?"<a onclick=\"jQuery.datepicker._adjustDate('#"+inst.id+"', -"+stepMonths+", 'M');\""+(showStatus?this._addStatus(inst,this._get(inst,"prevStatus")||"&#xa0;"):"")+">"+prevText+"</a>":hideIfNoPrevNext?"":"<label>"+prevText+"</label>")+"</div>",nextText=this._get(inst,"nextText");nextText=navigationAsDateFormat?this.formatDate(nextText,this._daylightSavingAdjust(new Date(drawYear,drawMonth+stepMonths,1)),this._getFormatConfig(inst)):nextText;var next='<div class="ui-datepicker-next">'+(this._canAdjustMonth(inst,1,drawYear,drawMonth)?"<a onclick=\"jQuery.datepicker._adjustDate('#"+inst.id+"', +"+stepMonths+", 'M');\""+(showStatus?this._addStatus(inst,this._get(inst,"nextStatus")||"&#xa0;"):"")+">"+nextText+"</a>":hideIfNoPrevNext?"":"<label>"+nextText+"</label>")+"</div>",currentText=this._get(inst,"currentText");currentText=navigationAsDateFormat?this.formatDate(currentText,today,this._getFormatConfig(inst)):currentText;for(var html=(prompt?'<div class="'+this._promptClass+'">'+prompt+"</div>":"")+(closeAtTop&&!inst.inline?controls:"")+'<div class="ui-datepicker-links">'+(isRTL?next:prev)+(this._isInRange(inst,this._get(inst,"gotoCurrent")&&inst.currentDay?currentDate:today)?'<div class="ui-datepicker-current"><a onclick="jQuery.datepicker._gotoToday(\'#'+inst.id+"');\""+(showStatus?this._addStatus(inst,this._get(inst,"currentStatus")||"&#xa0;"):"")+">"+currentText+"</a></div>":"")+(isRTL?prev:next)+"</div>",firstDay=this._get(inst,"firstDay"),changeFirstDay=this._get(inst,"changeFirstDay"),dayNames=this._get(inst,"dayNames"),dayNamesShort=this._get(inst,"dayNamesShort"),dayNamesMin=this._get(inst,"dayNamesMin"),monthNames=this._get(inst,"monthNames"),beforeShowDay=this._get(inst,"beforeShowDay"),highlightWeek=this._get(inst,"highlightWeek"),showOtherMonths=this._get(inst,"showOtherMonths"),showWeeks=this._get(inst,"showWeeks"),calculateWeek=this._get(inst,"calculateWeek")||this.iso8601Week,status=showStatus?this._get(inst,"dayStatus")||"&#xa0;":"",dateStatus=this._get(inst,"statusForDate")||this.dateStatus,endDate=inst.endDay?this._daylightSavingAdjust(new Date(inst.endYear,inst.endMonth,inst.endDay)):currentDate,row=0;row<numMonths[0];row++)for(var col=0;col<numMonths[1];col++){var selectedDate=this._daylightSavingAdjust(new Date(drawYear,drawMonth,inst.selectedDay));html+='<div class="ui-datepicker-one-month'+(0==col?" ui-datepicker-new-row":"")+'">'+this._generateMonthYearHeader(inst,drawMonth,drawYear,minDate,maxDate,selectedDate,row>0||col>0,showStatus,monthNames)+'<table class="ui-datepicker" cellpadding="0" cellspacing="0"><thead><tr class="ui-datepicker-title-row">'+(showWeeks?"<td>"+this._get(inst,"weekHeader")+"</td>":"");for(var dow=0;7>dow;dow++){var day=(dow+firstDay)%7,dayStatus=status.indexOf("DD")>-1?status.replace(/DD/,dayNames[day]):status.replace(/D/,dayNamesShort[day]);html+="<td"+((dow+firstDay+6)%7>=5?' class="ui-datepicker-week-end-cell"':"")+">"+(changeFirstDay?"<a onclick=\"jQuery.datepicker._changeFirstDay('#"+inst.id+"', "+day+');"':"<span")+(showStatus?this._addStatus(inst,dayStatus):"")+' title="'+dayNames[day]+'">'+dayNamesMin[day]+(changeFirstDay?"</a>":"</span>")+"</td>"}html+="</tr></thead><tbody>";var daysInMonth=this._getDaysInMonth(drawYear,drawMonth);drawYear==inst.selectedYear&&drawMonth==inst.selectedMonth&&(inst.selectedDay=Math.min(inst.selectedDay,daysInMonth));for(var leadDays=(this._getFirstDayOfMonth(drawYear,drawMonth)-firstDay+7)%7,numRows=isMultiMonth?6:Math.ceil((leadDays+daysInMonth)/7),printDate=this._daylightSavingAdjust(new Date(drawYear,drawMonth,1-leadDays)),dRow=0;numRows>dRow;dRow++){html+='<tr class="ui-datepicker-days-row">'+(showWeeks?'<td class="ui-datepicker-week-col">'+calculateWeek(printDate)+"</td>":"");for(var dow=0;7>dow;dow++){var daySettings=beforeShowDay?beforeShowDay.apply(inst.input?inst.input[0]:null,[printDate]):[!0,""],otherMonth=printDate.getMonth()!=drawMonth,unselectable=otherMonth||!daySettings[0]||minDate&&minDate>printDate||maxDate&&printDate>maxDate;html+='<td class="ui-datepicker-days-cell'+((dow+firstDay+6)%7>=5?" ui-datepicker-week-end-cell":"")+(otherMonth?" ui-datepicker-otherMonth":"")+(printDate.getTime()==selectedDate.getTime()&&drawMonth==inst.selectedMonth?" ui-datepicker-days-cell-over":"")+(unselectable?" "+this._unselectableClass:"")+(otherMonth&&!showOtherMonths?"":" "+daySettings[1]+(printDate.getTime()>=currentDate.getTime()&&printDate.getTime()<=endDate.getTime()?" "+this._currentClass:"")+(printDate.getTime()==today.getTime()?" ui-datepicker-today":""))+'"'+(otherMonth&&!showOtherMonths||!daySettings[2]?"":' title="'+daySettings[2]+'"')+(unselectable?highlightWeek?" onmouseover=\"jQuery(this).parent().addClass('ui-datepicker-week-over');\" onmouseout=\"jQuery(this).parent().removeClass('ui-datepicker-week-over');\"":"":" onmouseover=\"jQuery(this).addClass('ui-datepicker-days-cell-over')"+(highlightWeek?".parent().addClass('ui-datepicker-week-over')":"")+";"+(!showStatus||otherMonth&&!showOtherMonths?"":"jQuery('#ui-datepicker-status-"+inst.id+"').html('"+(dateStatus.apply(inst.input?inst.input[0]:null,[printDate,inst])||"&#xa0;")+"');")+"\" onmouseout=\"jQuery(this).removeClass('ui-datepicker-days-cell-over')"+(highlightWeek?".parent().removeClass('ui-datepicker-week-over')":"")+";"+(!showStatus||otherMonth&&!showOtherMonths?"":"jQuery('#ui-datepicker-status-"+inst.id+"').html('&#xa0;');")+'" onclick="jQuery.datepicker._selectDay(\'#'+inst.id+"',"+drawMonth+","+drawYear+', this);"')+">"+(otherMonth?showOtherMonths?printDate.getDate():"&#xa0;":unselectable?printDate.getDate():"<a>"+printDate.getDate()+"</a>")+"</td>",printDate.setDate(printDate.getDate()+1),printDate=this._daylightSavingAdjust(printDate)}html+="</tr>"}drawMonth++,drawMonth>11&&(drawMonth=0,drawYear++),html+="</tbody></table></div>"}return html+=(showStatus?'<div style="clear: both;"></div><div id="ui-datepicker-status-'+inst.id+'" class="ui-datepicker-status">'+(this._get(inst,"initStatus")||"&#xa0;")+"</div>":"")+(closeAtTop||inst.inline?"":controls)+'<div style="clear: both;"></div>'+($.browser.msie&&parseInt($.browser.version)<7&&!inst.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover"></iframe>':"")},_generateMonthYearHeader:function(inst,drawMonth,drawYear,minDate,maxDate,selectedDate,secondary,showStatus,monthNames){minDate=inst.rangeStart&&minDate&&minDate>selectedDate?selectedDate:minDate;var html='<div class="ui-datepicker-header">';if(secondary||!this._get(inst,"changeMonth"))html+=monthNames[drawMonth]+"&#xa0;";else{var inMinYear=minDate&&minDate.getFullYear()==drawYear,inMaxYear=maxDate&&maxDate.getFullYear()==drawYear;html+='<select class="ui-datepicker-new-month" onchange="jQuery.datepicker._selectMonthYear(\'#'+inst.id+"', this, 'M');\" onclick=\"jQuery.datepicker._clickMonthYear('#"+inst.id+"');\""+(showStatus?this._addStatus(inst,this._get(inst,"monthStatus")||"&#xa0;"):"")+">";for(var month=0;12>month;month++)(!inMinYear||month>=minDate.getMonth())&&(!inMaxYear||month<=maxDate.getMonth())&&(html+='<option value="'+month+'"'+(month==drawMonth?' selected="selected"':"")+">"+monthNames[month]+"</option>");html+="</select>"}if(secondary||!this._get(inst,"changeYear"))html+=drawYear;else{var years=this._get(inst,"yearRange").split(":"),year=0,endYear=0;for(2!=years.length?(year=drawYear-10,endYear=drawYear+10):"+"==years[0].charAt(0)||"-"==years[0].charAt(0)?(year=endYear=(new Date).getFullYear(),year+=parseInt(years[0],10),endYear+=parseInt(years[1],10)):(year=parseInt(years[0],10),endYear=parseInt(years[1],10)),year=minDate?Math.max(year,minDate.getFullYear()):year,endYear=maxDate?Math.min(endYear,maxDate.getFullYear()):endYear,html+='<select class="ui-datepicker-new-year" onchange="jQuery.datepicker._selectMonthYear(\'#'+inst.id+"', this, 'Y');\" onclick=\"jQuery.datepicker._clickMonthYear('#"+inst.id+"');\""+(showStatus?this._addStatus(inst,this._get(inst,"yearStatus")||"&#xa0;"):"")+">";endYear>=year;year++)html+='<option value="'+year+'"'+(year==drawYear?' selected="selected"':"")+">"+year+"</option>";html+="</select>"}return html+="</div>"},_addStatus:function(inst,text){return" onmouseover=\"jQuery('#ui-datepicker-status-"+inst.id+"').html('"+text+"');\" onmouseout=\"jQuery('#ui-datepicker-status-"+inst.id+"').html('&#xa0;');\""},_adjustInstDate:function(inst,offset,period){var year=inst.drawYear+("Y"==period?offset:0),month=inst.drawMonth+("M"==period?offset:0),day=Math.min(inst.selectedDay,this._getDaysInMonth(year,month))+("D"==period?offset:0),date=this._daylightSavingAdjust(new Date(year,month,day)),minDate=this._getMinMaxDate(inst,"min",!0),maxDate=this._getMinMaxDate(inst,"max");date=minDate&&minDate>date?minDate:date,date=maxDate&&date>maxDate?maxDate:date,inst.selectedDay=date.getDate(),inst.drawMonth=inst.selectedMonth=date.getMonth(),inst.drawYear=inst.selectedYear=date.getFullYear(),("M"==period||"Y"==period)&&this._notifyChange(inst)},_notifyChange:function(inst){var onChange=this._get(inst,"onChangeMonthYear");onChange&&onChange.apply(inst.input?inst.input[0]:null,[new Date(inst.selectedYear,inst.selectedMonth,1),inst])},_getNumberOfMonths:function(inst){var numMonths=this._get(inst,"numberOfMonths");return null==numMonths?[1,1]:"number"==typeof numMonths?[1,numMonths]:numMonths},_getMinMaxDate:function(inst,minMax,checkRange){var date=this._determineDate(this._get(inst,minMax+"Date"),null);return checkRange&&inst.rangeStart?!date||inst.rangeStart>date?inst.rangeStart:date:date},_getDaysInMonth:function(year,month){return 32-new Date(year,month,32).getDate()},_getFirstDayOfMonth:function(year,month){return new Date(year,month,1).getDay()},_canAdjustMonth:function(inst,offset,curYear,curMonth){var numMonths=this._getNumberOfMonths(inst),date=this._daylightSavingAdjust(new Date(curYear,curMonth+(0>offset?offset:numMonths[1]),1));return 0>offset&&date.setDate(this._getDaysInMonth(date.getFullYear(),date.getMonth())),this._isInRange(inst,date)},_isInRange:function(inst,date){var newMinDate=inst.rangeStart?this._daylightSavingAdjust(new Date(inst.selectedYear,inst.selectedMonth,inst.selectedDay)):null;newMinDate=newMinDate&&inst.rangeStart<newMinDate?inst.rangeStart:newMinDate;var minDate=newMinDate||this._getMinMaxDate(inst,"min"),maxDate=this._getMinMaxDate(inst,"max");return(!minDate||date>=minDate)&&(!maxDate||maxDate>=date)},_getFormatConfig:function(inst){var shortYearCutoff=this._get(inst,"shortYearCutoff");return shortYearCutoff="string"!=typeof shortYearCutoff?shortYearCutoff:(new Date).getFullYear()%100+parseInt(shortYearCutoff,10),{shortYearCutoff:shortYearCutoff,dayNamesShort:this._get(inst,"dayNamesShort"),dayNames:this._get(inst,"dayNames"),monthNamesShort:this._get(inst,"monthNamesShort"),monthNames:this._get(inst,"monthNames")}},_formatDate:function(inst,day,month,year){day||(inst.currentDay=inst.selectedDay,inst.currentMonth=inst.selectedMonth,inst.currentYear=inst.selectedYear);var date=day?"object"==typeof day?day:this._daylightSavingAdjust(new Date(year,month,day)):this._daylightSavingAdjust(new Date(inst.currentYear,inst.currentMonth,inst.currentDay));return this.formatDate(this._get(inst,"dateFormat"),date,this._getFormatConfig(inst))}}),$.fn.datepicker=function(options){var otherArgs=Array.prototype.slice.call(arguments,1);return"string"!=typeof options||"isDisabled"!=options&&"getDate"!=options?this.each(function(){"string"==typeof options?$.datepicker["_"+options+"Datepicker"].apply($.datepicker,[this].concat(otherArgs)):$.datepicker._attachDatepicker(this,options)}):$.datepicker["_"+options+"Datepicker"].apply($.datepicker,[this[0]].concat(otherArgs))},$.datepicker=new Datepicker,$(document).ready(function(){$(document.body).append($.datepicker.dpDiv).mousedown($.datepicker._checkExternalClick)})}(jQuery),function($){function getRGB(color){var result;return color&&color.constructor==Array&&3==color.length?color:(result=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(color))?[parseInt(result[1]),parseInt(result[2]),parseInt(result[3])]:(result=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(color))?[2.55*parseFloat(result[1]),2.55*parseFloat(result[2]),2.55*parseFloat(result[3])]:(result=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(color))?[parseInt(result[1],16),parseInt(result[2],16),parseInt(result[3],16)]:(result=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(color))?[parseInt(result[1]+result[1],16),parseInt(result[2]+result[2],16),parseInt(result[3]+result[3],16)]:(result=/rgba\(0, 0, 0, 0\)/.exec(color))?colors.transparent:colors[jQuery.trim(color).toLowerCase()]}function getColor(elem,attr){var color;do{if(color=jQuery.curCSS(elem,attr),""!=color&&"transparent"!=color||jQuery.nodeName(elem,"body"))break;attr="backgroundColor"}while(elem=elem.parentNode);return getRGB(color)}$.effects=$.effects||{},$.extend($.effects,{save:function(el,set){for(var i=0;i<set.length;i++)null!==set[i]&&$.data(el[0],"ec.storage."+set[i],el[0].style[set[i]])},restore:function(el,set){for(var i=0;i<set.length;i++)null!==set[i]&&el.css(set[i],$.data(el[0],"ec.storage."+set[i]))},setMode:function(el,mode){return"toggle"==mode&&(mode=el.is(":hidden")?"show":"hide"),mode},getBaseline:function(origin,original){var y,x;switch(origin[0]){case"top":y=0;break;case"middle":y=.5;break;case"bottom":y=1;break;default:y=origin[0]/original.height}switch(origin[1]){case"left":x=0;break;case"center":x=.5;break;case"right":x=1;break;default:x=origin[1]/original.width}return{x:x,y:y}},createWrapper:function(el){if("fxWrapper"==el.parent().attr("id"))return el;var props={width:el.outerWidth({margin:!0}),height:el.outerHeight({margin:!0}),"float":el.css("float")};el.wrap('<div id="fxWrapper" style="font-size:100%;background:transparent;border:none;margin:0;padding:0"></div>');var wrapper=el.parent();if("static"==el.css("position"))wrapper.css({position:"relative"}),el.css({position:"relative"});else{var top=el.css("top");isNaN(parseInt(top))&&(top="auto");var left=el.css("left");isNaN(parseInt(left))&&(left="auto"),wrapper.css({position:el.css("position"),top:top,left:left,zIndex:el.css("z-index")}).show(),el.css({position:"relative",top:0,left:0})}return wrapper.css(props),wrapper},removeWrapper:function(el){return"fxWrapper"==el.parent().attr("id")?el.parent().replaceWith(el):el},setTransition:function(el,list,factor,val){return val=val||{},$.each(list,function(i,x){unit=el.cssUnit(x),unit[0]>0&&(val[x]=unit[0]*factor+unit[1])}),val},animateClass:function(value,duration,easing,callback){var cb="function"==typeof easing?easing:callback?callback:null,ea="object"==typeof easing?easing:null;return this.each(function(){var offset={},that=$(this),oldStyleAttr=that.attr("style")||"";"object"==typeof oldStyleAttr&&(oldStyleAttr=oldStyleAttr.cssText),value.toggle&&(that.hasClass(value.toggle)?value.remove=value.toggle:value.add=value.toggle);var oldStyle=$.extend({},document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle);value.add&&that.addClass(value.add),value.remove&&that.removeClass(value.remove);var newStyle=$.extend({},document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle);value.add&&that.removeClass(value.add),value.remove&&that.addClass(value.remove);for(var n in newStyle)"function"==typeof newStyle[n]||!newStyle[n]||-1!=n.indexOf("Moz")||-1!=n.indexOf("length")||newStyle[n]==oldStyle[n]||!n.match(/color/i)&&(n.match(/color/i)||isNaN(parseInt(newStyle[n],10)))||"static"==oldStyle.position&&("static"!=oldStyle.position||n.match(/left|top|bottom|right/))||(offset[n]=newStyle[n]);that.animate(offset,duration,ea,function(){"object"==typeof $(this).attr("style")?($(this).attr("style").cssText="",$(this).attr("style").cssText=oldStyleAttr):$(this).attr("style",oldStyleAttr),value.add&&$(this).addClass(value.add),value.remove&&$(this).removeClass(value.remove),cb&&cb.apply(this,arguments)})})}}),$.fn.extend({_show:$.fn.show,_hide:$.fn.hide,__toggle:$.fn.toggle,_addClass:$.fn.addClass,_removeClass:$.fn.removeClass,_toggleClass:$.fn.toggleClass,effect:function(fx,o,speed,callback){return $.effects[fx]?$.effects[fx].call(this,{method:fx,options:o||{},duration:speed,callback:callback}):null},show:function(){if(!arguments[0]||arguments[0].constructor==Number||/(slow|normal|fast)/.test(arguments[0]))return this._show.apply(this,arguments);var o=arguments[1]||{};return o.mode="show",this.effect.apply(this,[arguments[0],o,arguments[2]||o.duration,arguments[3]||o.callback])},hide:function(){if(!arguments[0]||arguments[0].constructor==Number||/(slow|normal|fast)/.test(arguments[0]))return this._hide.apply(this,arguments);var o=arguments[1]||{};return o.mode="hide",this.effect.apply(this,[arguments[0],o,arguments[2]||o.duration,arguments[3]||o.callback])},toggle:function(){if(!arguments[0]||arguments[0].constructor==Number||/(slow|normal|fast)/.test(arguments[0])||arguments[0].constructor==Function)return this.__toggle.apply(this,arguments);var o=arguments[1]||{};return o.mode="toggle",this.effect.apply(this,[arguments[0],o,arguments[2]||o.duration,arguments[3]||o.callback])},addClass:function(classNames,speed,easing,callback){return speed?$.effects.animateClass.apply(this,[{add:classNames},speed,easing,callback]):this._addClass(classNames)},removeClass:function(classNames,speed,easing,callback){return speed?$.effects.animateClass.apply(this,[{remove:classNames},speed,easing,callback]):this._removeClass(classNames)},toggleClass:function(classNames,speed,easing,callback){return speed?$.effects.animateClass.apply(this,[{toggle:classNames},speed,easing,callback]):this._toggleClass(classNames)},morph:function(remove,add,speed,easing,callback){return $.effects.animateClass.apply(this,[{add:add,remove:remove},speed,easing,callback])},switchClass:function(){return this.morph.apply(this,arguments)},cssUnit:function(key){var style=this.css(key),val=[];return $.each(["em","px","%","pt"],function(i,unit){style.indexOf(unit)>0&&(val=[parseFloat(style),unit])}),val}}),jQuery.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","color","outlineColor"],function(i,attr){jQuery.fx.step[attr]=function(fx){0==fx.state&&(fx.start=getColor(fx.elem,attr),fx.end=getRGB(fx.end)),fx.elem.style[attr]="rgb("+[Math.max(Math.min(parseInt(fx.pos*(fx.end[0]-fx.start[0])+fx.start[0]),255),0),Math.max(Math.min(parseInt(fx.pos*(fx.end[1]-fx.start[1])+fx.start[1]),255),0),Math.max(Math.min(parseInt(fx.pos*(fx.end[2]-fx.start[2])+fx.start[2]),255),0)].join(",")+")"}});var colors={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]};jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(x,t,b,c,d){return jQuery.easing[jQuery.easing.def](x,t,b,c,d)},easeInQuad:function(x,t,b,c,d){return c*(t/=d)*t+b},easeOutQuad:function(x,t,b,c,d){return-c*(t/=d)*(t-2)+b},easeInOutQuad:function(x,t,b,c,d){return(t/=d/2)<1?c/2*t*t+b:-c/2*(--t*(t-2)-1)+b},easeInCubic:function(x,t,b,c,d){return c*(t/=d)*t*t+b},easeOutCubic:function(x,t,b,c,d){return c*((t=t/d-1)*t*t+1)+b},easeInOutCubic:function(x,t,b,c,d){return(t/=d/2)<1?c/2*t*t*t+b:c/2*((t-=2)*t*t+2)+b},easeInQuart:function(x,t,b,c,d){return c*(t/=d)*t*t*t+b},easeOutQuart:function(x,t,b,c,d){return-c*((t=t/d-1)*t*t*t-1)+b},easeInOutQuart:function(x,t,b,c,d){return(t/=d/2)<1?c/2*t*t*t*t+b:-c/2*((t-=2)*t*t*t-2)+b},easeInQuint:function(x,t,b,c,d){return c*(t/=d)*t*t*t*t+b},easeOutQuint:function(x,t,b,c,d){return c*((t=t/d-1)*t*t*t*t+1)+b},easeInOutQuint:function(x,t,b,c,d){return(t/=d/2)<1?c/2*t*t*t*t*t+b:c/2*((t-=2)*t*t*t*t+2)+b},easeInSine:function(x,t,b,c,d){return-c*Math.cos(t/d*(Math.PI/2))+c+b},easeOutSine:function(x,t,b,c,d){return c*Math.sin(t/d*(Math.PI/2))+b},easeInOutSine:function(x,t,b,c,d){return-c/2*(Math.cos(Math.PI*t/d)-1)+b},easeInExpo:function(x,t,b,c,d){return 0==t?b:c*Math.pow(2,10*(t/d-1))+b},easeOutExpo:function(x,t,b,c,d){return t==d?b+c:c*(-Math.pow(2,-10*t/d)+1)+b},easeInOutExpo:function(x,t,b,c,d){return 0==t?b:t==d?b+c:(t/=d/2)<1?c/2*Math.pow(2,10*(t-1))+b:c/2*(-Math.pow(2,-10*--t)+2)+b},easeInCirc:function(x,t,b,c,d){return-c*(Math.sqrt(1-(t/=d)*t)-1)+b},easeOutCirc:function(x,t,b,c,d){return c*Math.sqrt(1-(t=t/d-1)*t)+b},easeInOutCirc:function(x,t,b,c,d){return(t/=d/2)<1?-c/2*(Math.sqrt(1-t*t)-1)+b:c/2*(Math.sqrt(1-(t-=2)*t)+1)+b},easeInElastic:function(x,t,b,c,d){var s=1.70158,p=0,a=c;if(0==t)return b;if(1==(t/=d))return b+c;if(p||(p=.3*d),a<Math.abs(c)){a=c;var s=p/4}else var s=p/(2*Math.PI)*Math.asin(c/a);return-(a*Math.pow(2,10*(t-=1))*Math.sin(2*(t*d-s)*Math.PI/p))+b},easeOutElastic:function(x,t,b,c,d){var s=1.70158,p=0,a=c;if(0==t)return b;if(1==(t/=d))return b+c;if(p||(p=.3*d),a<Math.abs(c)){a=c;var s=p/4}else var s=p/(2*Math.PI)*Math.asin(c/a);return a*Math.pow(2,-10*t)*Math.sin(2*(t*d-s)*Math.PI/p)+c+b},easeInOutElastic:function(x,t,b,c,d){var s=1.70158,p=0,a=c;if(0==t)return b;if(2==(t/=d/2))return b+c;if(p||(p=.3*d*1.5),a<Math.abs(c)){a=c;var s=p/4}else var s=p/(2*Math.PI)*Math.asin(c/a);return 1>t?-.5*a*Math.pow(2,10*(t-=1))*Math.sin(2*(t*d-s)*Math.PI/p)+b:a*Math.pow(2,-10*(t-=1))*Math.sin(2*(t*d-s)*Math.PI/p)*.5+c+b},easeInBack:function(x,t,b,c,d,s){return void 0==s&&(s=1.70158),c*(t/=d)*t*((s+1)*t-s)+b},easeOutBack:function(x,t,b,c,d,s){return void 0==s&&(s=1.70158),c*((t=t/d-1)*t*((s+1)*t+s)+1)+b
},easeInOutBack:function(x,t,b,c,d,s){return void 0==s&&(s=1.70158),(t/=d/2)<1?c/2*t*t*(((s*=1.525)+1)*t-s)+b:c/2*((t-=2)*t*(((s*=1.525)+1)*t+s)+2)+b},easeInBounce:function(x,t,b,c,d){return c-jQuery.easing.easeOutBounce(x,d-t,0,c,d)+b},easeOutBounce:function(x,t,b,c,d){return(t/=d)<1/2.75?7.5625*c*t*t+b:2/2.75>t?c*(7.5625*(t-=1.5/2.75)*t+.75)+b:2.5/2.75>t?c*(7.5625*(t-=2.25/2.75)*t+.9375)+b:c*(7.5625*(t-=2.625/2.75)*t+.984375)+b},easeInOutBounce:function(x,t,b,c,d){return d/2>t?.5*jQuery.easing.easeInBounce(x,2*t,0,c,d)+b:.5*jQuery.easing.easeOutBounce(x,2*t-d,0,c,d)+.5*c+b}})}(jQuery),function($){$.effects.blind=function(o){return this.queue(function(){var el=$(this),props=["position","top","left"],mode=$.effects.setMode(el,o.options.mode||"hide"),direction=o.options.direction||"vertical";$.effects.save(el,props),el.show();var wrapper=$.effects.createWrapper(el).css({overflow:"hidden"}),ref="vertical"==direction?"height":"width",distance="vertical"==direction?wrapper.height():wrapper.width();"show"==mode&&wrapper.css(ref,0);var animation={};animation[ref]="show"==mode?distance:0,wrapper.animate(animation,o.duration,o.options.easing,function(){"hide"==mode&&el.hide(),$.effects.restore(el,props),$.effects.removeWrapper(el),o.callback&&o.callback.apply(el[0],arguments),el.dequeue()})})}}(jQuery),function($){$.effects.bounce=function(o){return this.queue(function(){var el=$(this),props=["position","top","left"],mode=$.effects.setMode(el,o.options.mode||"effect"),direction=o.options.direction||"up",distance=o.options.distance||20,times=o.options.times||5,speed=o.duration||250;/show|hide/.test(mode)&&props.push("opacity"),$.effects.save(el,props),el.show(),$.effects.createWrapper(el);var ref="up"==direction||"down"==direction?"top":"left",motion="up"==direction||"left"==direction?"pos":"neg",distance=o.options.distance||("top"==ref?el.outerHeight({margin:!0})/3:el.outerWidth({margin:!0})/3);if("show"==mode&&el.css("opacity",0).css(ref,"pos"==motion?-distance:distance),"hide"==mode&&(distance/=2*times),"hide"!=mode&&times--,"show"==mode){var animation={opacity:1};animation[ref]=("pos"==motion?"+=":"-=")+distance,el.animate(animation,speed/2,o.options.easing),distance/=2,times--}for(var i=0;times>i;i++){var animation1={},animation2={};animation1[ref]=("pos"==motion?"-=":"+=")+distance,animation2[ref]=("pos"==motion?"+=":"-=")+distance,el.animate(animation1,speed/2,o.options.easing).animate(animation2,speed/2,o.options.easing),distance="hide"==mode?2*distance:distance/2}if("hide"==mode){var animation={opacity:0};animation[ref]=("pos"==motion?"-=":"+=")+distance,el.animate(animation,speed/2,o.options.easing,function(){el.hide(),$.effects.restore(el,props),$.effects.removeWrapper(el),o.callback&&o.callback.apply(this,arguments)})}else{var animation1={},animation2={};animation1[ref]=("pos"==motion?"-=":"+=")+distance,animation2[ref]=("pos"==motion?"+=":"-=")+distance,el.animate(animation1,speed/2,o.options.easing).animate(animation2,speed/2,o.options.easing,function(){$.effects.restore(el,props),$.effects.removeWrapper(el),o.callback&&o.callback.apply(this,arguments)})}el.queue("fx",function(){el.dequeue()}),el.dequeue()})}}(jQuery),function($){$.effects.clip=function(o){return this.queue(function(){var el=$(this),props=["position","top","left","height","width"],mode=$.effects.setMode(el,o.options.mode||"hide"),direction=o.options.direction||"vertical";$.effects.save(el,props),el.show();var wrapper=$.effects.createWrapper(el).css({overflow:"hidden"}),animate="IMG"==el[0].tagName?wrapper:el,ref={size:"vertical"==direction?"height":"width",position:"vertical"==direction?"top":"left"},distance="vertical"==direction?animate.height():animate.width();"show"==mode&&(animate.css(ref.size,0),animate.css(ref.position,distance/2));var animation={};animation[ref.size]="show"==mode?distance:0,animation[ref.position]="show"==mode?0:distance/2,animate.animate(animation,{queue:!1,duration:o.duration,easing:o.options.easing,complete:function(){"hide"==mode&&el.hide(),$.effects.restore(el,props),$.effects.removeWrapper(el),o.callback&&o.callback.apply(el[0],arguments),el.dequeue()}})})}}(jQuery),function($){$.effects.drop=function(o){return this.queue(function(){var el=$(this),props=["position","top","left","opacity"],mode=$.effects.setMode(el,o.options.mode||"hide"),direction=o.options.direction||"left";$.effects.save(el,props),el.show(),$.effects.createWrapper(el);var ref="up"==direction||"down"==direction?"top":"left",motion="up"==direction||"left"==direction?"pos":"neg",distance=o.options.distance||("top"==ref?el.outerHeight({margin:!0})/2:el.outerWidth({margin:!0})/2);"show"==mode&&el.css("opacity",0).css(ref,"pos"==motion?-distance:distance);var animation={opacity:"show"==mode?1:0};animation[ref]=("show"==mode?"pos"==motion?"+=":"-=":"pos"==motion?"-=":"+=")+distance,el.animate(animation,{queue:!1,duration:o.duration,easing:o.options.easing,complete:function(){"hide"==mode&&el.hide(),$.effects.restore(el,props),$.effects.removeWrapper(el),o.callback&&o.callback.apply(this,arguments),el.dequeue()}})})}}(jQuery),function($){$.effects.explode=function(o){return this.queue(function(){var rows=o.options.pieces?Math.round(Math.sqrt(o.options.pieces)):3,cells=o.options.pieces?Math.round(Math.sqrt(o.options.pieces)):3;o.options.mode="toggle"==o.options.mode?$(this).is(":visible")?"hide":"show":o.options.mode;var el=$(this).show().css("visibility","hidden"),offset=el.offset();offset.top-=parseInt(el.css("marginTop"))||0,offset.left-=parseInt(el.css("marginLeft"))||0;for(var width=el.outerWidth(!0),height=el.outerHeight(!0),i=0;rows>i;i++)for(var j=0;cells>j;j++)el.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-j*(width/cells),top:-i*(height/rows)}).parent().addClass("effects-explode").css({position:"absolute",overflow:"hidden",width:width/cells,height:height/rows,left:offset.left+j*(width/cells)+("show"==o.options.mode?(j-Math.floor(cells/2))*(width/cells):0),top:offset.top+i*(height/rows)+("show"==o.options.mode?(i-Math.floor(rows/2))*(height/rows):0),opacity:"show"==o.options.mode?0:1}).animate({left:offset.left+j*(width/cells)+("show"==o.options.mode?0:(j-Math.floor(cells/2))*(width/cells)),top:offset.top+i*(height/rows)+("show"==o.options.mode?0:(i-Math.floor(rows/2))*(height/rows)),opacity:"show"==o.options.mode?1:0},o.duration||500);setTimeout(function(){"show"==o.options.mode?el.css({visibility:"visible"}):el.css({visibility:"visible"}).hide(),o.callback&&o.callback.apply(el[0]),el.dequeue(),$(".effects-explode").remove()},o.duration||500)})}}(jQuery),function($){$.effects.fold=function(o){return this.queue(function(){var el=$(this),props=["position","top","left"],mode=$.effects.setMode(el,o.options.mode||"hide"),size=o.options.size||15,horizFirst=!!o.options.horizFirst;$.effects.save(el,props),el.show();var wrapper=$.effects.createWrapper(el).css({overflow:"hidden"}),widthFirst="show"==mode!=horizFirst,ref=widthFirst?["width","height"]:["height","width"],distance=widthFirst?[wrapper.width(),wrapper.height()]:[wrapper.height(),wrapper.width()],percent=/([0-9]+)%/.exec(size);percent&&(size=parseInt(percent[1])/100*distance["hide"==mode?0:1]),"show"==mode&&wrapper.css(horizFirst?{height:0,width:size}:{height:size,width:0});var animation1={},animation2={};animation1[ref[0]]="show"==mode?distance[0]:size,animation2[ref[1]]="show"==mode?distance[1]:0,wrapper.animate(animation1,o.duration/2,o.options.easing).animate(animation2,o.duration/2,o.options.easing,function(){"hide"==mode&&el.hide(),$.effects.restore(el,props),$.effects.removeWrapper(el),o.callback&&o.callback.apply(el[0],arguments),el.dequeue()})})}}(jQuery),function($){$.effects.highlight=function(o){return this.queue(function(){var el=$(this),props=["backgroundImage","backgroundColor","opacity"],mode=$.effects.setMode(el,o.options.mode||"show"),color=o.options.color||"#ffff99",oldColor=el.css("backgroundColor");$.effects.save(el,props),el.show(),el.css({backgroundImage:"none",backgroundColor:color});var animation={backgroundColor:oldColor};"hide"==mode&&(animation.opacity=0),el.animate(animation,{queue:!1,duration:o.duration,easing:o.options.easing,complete:function(){"hide"==mode&&el.hide(),$.effects.restore(el,props),"show"==mode&&jQuery.browser.msie&&this.style.removeAttribute("filter"),o.callback&&o.callback.apply(this,arguments),el.dequeue()}})})}}(jQuery),function($){$.effects.pulsate=function(o){return this.queue(function(){var el=$(this),mode=$.effects.setMode(el,o.options.mode||"show"),times=o.options.times||5;"hide"==mode&&times--,el.is(":hidden")&&(el.css("opacity",0),el.show(),el.animate({opacity:1},o.duration/2,o.options.easing),times-=2);for(var i=0;times>i;i++)el.animate({opacity:0},o.duration/2,o.options.easing).animate({opacity:1},o.duration/2,o.options.easing);"hide"==mode?el.animate({opacity:0},o.duration/2,o.options.easing,function(){el.hide(),o.callback&&o.callback.apply(this,arguments)}):el.animate({opacity:0},o.duration/2,o.options.easing).animate({opacity:1},o.duration/2,o.options.easing,function(){o.callback&&o.callback.apply(this,arguments)}),el.queue("fx",function(){el.dequeue()}),el.dequeue()})}}(jQuery),function($){$.effects.puff=function(o){return this.queue(function(){var el=$(this),options=$.extend(!0,{},o.options),mode=$.effects.setMode(el,o.options.mode||"hide"),percent=parseInt(o.options.percent)||150;options.fade=!0;var original={height:el.height(),width:el.width()},factor=percent/100;el.from="hide"==mode?original:{height:original.height*factor,width:original.width*factor},options.from=el.from,options.percent="hide"==mode?percent:100,options.mode=mode,el.effect("scale",options,o.duration,o.callback),el.dequeue()})},$.effects.scale=function(o){return this.queue(function(){var el=$(this),options=$.extend(!0,{},o.options),mode=$.effects.setMode(el,o.options.mode||"effect"),percent=parseInt(o.options.percent)||(0==parseInt(o.options.percent)?0:"hide"==mode?0:100),direction=o.options.direction||"both",origin=o.options.origin;"effect"!=mode&&(options.origin=origin||["middle","center"],options.restore=!0);var original={height:el.height(),width:el.width()};el.from=o.options.from||("show"==mode?{height:0,width:0}:original);var factor={y:"horizontal"!=direction?percent/100:1,x:"vertical"!=direction?percent/100:1};el.to={height:original.height*factor.y,width:original.width*factor.x},o.options.fade&&("show"==mode&&(el.from.opacity=0,el.to.opacity=1),"hide"==mode&&(el.from.opacity=1,el.to.opacity=0)),options.from=el.from,options.to=el.to,options.mode=mode,el.effect("size",options,o.duration,o.callback),el.dequeue()})},$.effects.size=function(o){return this.queue(function(){var el=$(this),props=["position","top","left","width","height","overflow","opacity"],props1=["position","top","left","overflow","opacity"],props2=["width","height","overflow"],cProps=["fontSize"],vProps=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],hProps=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],mode=$.effects.setMode(el,o.options.mode||"effect"),restore=o.options.restore||!1,scale=o.options.scale||"both",origin=o.options.origin,original={height:el.height(),width:el.width()};if(el.from=o.options.from||original,el.to=o.options.to||original,origin){var baseline=$.effects.getBaseline(origin,original);el.from.top=(original.height-el.from.height)*baseline.y,el.from.left=(original.width-el.from.width)*baseline.x,el.to.top=(original.height-el.to.height)*baseline.y,el.to.left=(original.width-el.to.width)*baseline.x}var factor={from:{y:el.from.height/original.height,x:el.from.width/original.width},to:{y:el.to.height/original.height,x:el.to.width/original.width}};("box"==scale||"both"==scale)&&(factor.from.y!=factor.to.y&&(props=props.concat(vProps),el.from=$.effects.setTransition(el,vProps,factor.from.y,el.from),el.to=$.effects.setTransition(el,vProps,factor.to.y,el.to)),factor.from.x!=factor.to.x&&(props=props.concat(hProps),el.from=$.effects.setTransition(el,hProps,factor.from.x,el.from),el.to=$.effects.setTransition(el,hProps,factor.to.x,el.to))),("content"==scale||"both"==scale)&&factor.from.y!=factor.to.y&&(props=props.concat(cProps),el.from=$.effects.setTransition(el,cProps,factor.from.y,el.from),el.to=$.effects.setTransition(el,cProps,factor.to.y,el.to)),$.effects.save(el,restore?props:props1),el.show(),$.effects.createWrapper(el),el.css("overflow","hidden").css(el.from),("content"==scale||"both"==scale)&&(vProps=vProps.concat(["marginTop","marginBottom"]).concat(cProps),hProps=hProps.concat(["marginLeft","marginRight"]),props2=props.concat(vProps).concat(hProps),el.find("*[width]").each(function(){child=$(this),restore&&$.effects.save(child,props2);var c_original={height:child.height(),width:child.width()};child.from={height:c_original.height*factor.from.y,width:c_original.width*factor.from.x},child.to={height:c_original.height*factor.to.y,width:c_original.width*factor.to.x},factor.from.y!=factor.to.y&&(child.from=$.effects.setTransition(child,vProps,factor.from.y,child.from),child.to=$.effects.setTransition(child,vProps,factor.to.y,child.to)),factor.from.x!=factor.to.x&&(child.from=$.effects.setTransition(child,hProps,factor.from.x,child.from),child.to=$.effects.setTransition(child,hProps,factor.to.x,child.to)),child.css(child.from),child.animate(child.to,o.duration,o.options.easing,function(){restore&&$.effects.restore(child,props2)})})),el.animate(el.to,{queue:!1,duration:o.duration,easing:o.options.easing,complete:function(){"hide"==mode&&el.hide(),$.effects.restore(el,restore?props:props1),$.effects.removeWrapper(el),o.callback&&o.callback.apply(this,arguments),el.dequeue()}})})}}(jQuery),function($){$.effects.shake=function(o){return this.queue(function(){var el=$(this),props=["position","top","left"],direction=($.effects.setMode(el,o.options.mode||"effect"),o.options.direction||"left"),distance=o.options.distance||20,times=o.options.times||3,speed=o.duration||o.options.duration||140;$.effects.save(el,props),el.show(),$.effects.createWrapper(el);var ref="up"==direction||"down"==direction?"top":"left",motion="up"==direction||"left"==direction?"pos":"neg",animation={},animation1={},animation2={};animation[ref]=("pos"==motion?"-=":"+=")+distance,animation1[ref]=("pos"==motion?"+=":"-=")+2*distance,animation2[ref]=("pos"==motion?"-=":"+=")+2*distance,el.animate(animation,speed,o.options.easing);for(var i=1;times>i;i++)el.animate(animation1,speed,o.options.easing).animate(animation2,speed,o.options.easing);el.animate(animation1,speed,o.options.easing).animate(animation,speed/2,o.options.easing,function(){$.effects.restore(el,props),$.effects.removeWrapper(el),o.callback&&o.callback.apply(this,arguments)}),el.queue("fx",function(){el.dequeue()}),el.dequeue()})}}(jQuery),function($){$.effects.slide=function(o){return this.queue(function(){var el=$(this),props=["position","top","left"],mode=$.effects.setMode(el,o.options.mode||"show"),direction=o.options.direction||"left";$.effects.save(el,props),el.show(),$.effects.createWrapper(el).css({overflow:"hidden"});var ref="up"==direction||"down"==direction?"top":"left",motion="up"==direction||"left"==direction?"pos":"neg",distance=o.options.distance||("top"==ref?el.outerHeight({margin:!0}):el.outerWidth({margin:!0}));"show"==mode&&el.css(ref,"pos"==motion?-distance:distance);var animation={};animation[ref]=("show"==mode?"pos"==motion?"+=":"-=":"pos"==motion?"-=":"+=")+distance,el.animate(animation,{queue:!1,duration:o.duration,easing:o.options.easing,complete:function(){"hide"==mode&&el.hide(),$.effects.restore(el,props),$.effects.removeWrapper(el),o.callback&&o.callback.apply(this,arguments),el.dequeue()}})})}}(jQuery),function($){$.effects.transfer=function(o){return this.queue(function(){var el=$(this),target=($.effects.setMode(el,o.options.mode||"effect"),$(o.options.to)),position=el.offset(),transfer=$('<div class="ui-effects-transfer"></div>').appendTo(document.body);o.options.className&&transfer.addClass(o.options.className),transfer.addClass(o.options.className),transfer.css({top:position.top,left:position.left,height:el.outerHeight()-parseInt(transfer.css("borderTopWidth"))-parseInt(transfer.css("borderBottomWidth")),width:el.outerWidth()-parseInt(transfer.css("borderLeftWidth"))-parseInt(transfer.css("borderRightWidth")),position:"absolute"}),position=target.offset(),animation={top:position.top,left:position.left,height:target.outerHeight()-parseInt(transfer.css("borderTopWidth"))-parseInt(transfer.css("borderBottomWidth")),width:target.outerWidth()-parseInt(transfer.css("borderLeftWidth"))-parseInt(transfer.css("borderRightWidth"))},transfer.animate(animation,o.duration,o.options.easing,function(){transfer.remove(),o.callback&&o.callback.apply(el[0],arguments),el.dequeue()})})}}(jQuery);