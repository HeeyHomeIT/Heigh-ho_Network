!function($){function _commSetting(option){$.extend(settings,option)}function _storeData(dataLabel,data){var store=$(_set.codeval).get(0);return data?void $.data(store,dataLabel,data):$.data(store,dataLabel)}function _setCodeStyle(eid){var codeObj=_createCode(settings.codeType.name,settings.codeType.len),randNum=Math.floor(6*Math.random()),htmlCode="";settings.inputID||(htmlCode='<span><input id="ehong-code-input" type="text" maxlength="4" /></span>'),htmlCode+='<div id="ehong-code" class="ehong-idcode-val ehong-idcode-val',htmlCode+=String(randNum),htmlCode+='" href="#" onblur="return false" onfocus="return false" oncontextmenu="return false" onclick="$.idcode.setCode()">'+_setStyle(codeObj)+'</div><span id="ehong-code-tip-ck" class="ehong-code-val-tip" onclick="$.idcode.setCode()"></span>',$(eid).html(htmlCode),_storeData(_set.storeLable,codeObj)}function _setStyle(codeObj){for(var charIndex,fnCodeObj=new Array,col=new Array("#BF0C43","#E69A2A","#707F02","#18975F","#BC3087","#73C841","#780320","#90719B","#1F72D8","#D6A03C","#6B486E","#243F5F","#16BDB5"),i=0;i<codeObj.length;i++)charIndex=Math.floor(Math.random()*col.length),fnCodeObj.push('<font color="'+col[charIndex]+'">'+codeObj.charAt(i)+"</font>");return fnCodeObj.join("")}function _createCode(codeType,codeLength){var codeObj;return codeObj="follow"==codeType?_createCodeFollow(codeLength):"calc"==codeType?_createCodeCalc(codeLength):""}function _createCodeCalc(codeLength){for(var code1,code2,charIndex,selectChar=new Array("0","1","2","3","4","5","6","7","8","9"),i=0;codeLength>i;i++)charIndex=Math.floor(Math.random()*selectChar.length),code1+=selectChar[charIndex],charIndex=Math.floor(Math.random()*selectChar.length),code2+=selectChar[charIndex];return[parseInt(code1),parseInt(code2),parseInt(code1)+parseInt(code2)]}function _createCodeFollow(codeLength){for(var code="",selectChar=new Array("0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"),i=0;codeLength>i;i++){var charIndex=Math.floor(Math.random()*selectChar.length);code+=charIndex%2==0?selectChar[charIndex].toLowerCase():selectChar[charIndex]}return code}var settings={e:"idcode",codeType:{name:"follow",len:4},codeTip:"refresh?",inputID:"inputCode"},_set={storeLable:"codeval",store:"#ehong-code-input",codeval:"#ehong-code"};$.idcode={getCode:function(option){return _commSetting(option),_storeData(_set.storeLable,null)},setCode:function(option){_commSetting(option),_setCodeStyle("#"+settings.e,settings.codeType.name,settings.codeType.len)},validateCode:function(option){_commSetting(option);var inputV;return inputV=settings.inputID?$("#"+settings.inputID).val():$(_set.store).val(),inputV.toLowerCase()==_storeData(_set.storeLable,null).toLowerCase()?!0:(_setCodeStyle("#"+settings.e,settings.codeType.name,settings.codeType.len),!1)}}}(jQuery);