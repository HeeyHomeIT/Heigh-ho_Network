/*! Pc.Heigh-ho.Renovation-1.0.0.js 2017-03-29 */
!function(){function a(a){var b=new RegExp("(^|&)"+a+"=([^&]*)(&|$)"),c=window.location.hash.split("?")[1].match(b);return null!=c?unescape(c[2]):null}var b=angular.module("heeyhomeApp"),c="/api/public/costcalculator/result/collect",d={};(void 0!=sessionStorage.payJson||null!=sessionStorage.payJson)&&(d=JSON.parse(sessionStorage.payJson));var e=decodeURI(escape(a("cs"))),f=a("mj"),g=a("fj"),h=a("kt"),i=a("wsj"),j=a("yt"),k={init:function(){k.initEvent()},initEvent:function(){var a=this;a.initDataEvent(),a.initClickCollectionEvent(),a.initSlideEvent()},initDataEvent:function(){"{}"!=JSON.stringify(d)&&$.each(d,function(a,b){$("."+a).prepend(parseFloat(b).toFixed(2))})},initClickCollectionEvent:function(){$(document).on("click",".cr_collection",function(){function a(){window.location.href="register.html?#dl"}var b=$.cookie("userId");if(b=null!=b&&""!=b&&void 0!=b?$.base64.decode(b):"",""==b)layer.msg("亲，收藏前请先登录哦~"),setTimeout(function(){a()},1500);else{var k=$.cookie("userType");if(1==$.base64.decode(k)){var l={};l=d,l.city=e,l.area=f,l.room_num=g,l.parlor_num=h,l.bathroom_num=i,l.balcony_num=j,$.ajax({url:c,type:"GET",async:!0,dataType:"jsonp",data:{user_id:b,calculator_result_json:JSON.stringify(l)},success:function(a){layer.alert(a.msg)},error:function(){}})}else layer.msg("此功能暂时只对用户开放")}})},initSlideEvent:function(){$("#slide_bar").css("top",($(window).height()-$("#slide_bar").outerHeight())/2+$(document).scrollTop());for(var a=$("#works_content_title1 div"),b=0,c=0,d=document.getElementById("title_active"),e=0;e<a.length-1;e++)a[e].onclick=function(){startMoveHandler.startMoveEvent(d,this.offsetLeft,b,c),$(".work_content").hide(),$(".material_content").hide(),$(".slide_content >div:eq("+($(this).index()+1)+")").show().removeClass("hide")};var f=!1;$("#slide_bar").click(function(){f?($("#slide_bar").stop().animate({right:"-200px"},500,function(){$("#slide_bar").stop().animate({right:"349px"},500).addClass("bar")}),$(".slide_content").stop().animate({right:"-550px"},500,function(){$(".slide_content").stop().animate({right:"0"},500)}),f=!1):($("#slide_bar").stop().animate({right:"-200px"},500,function(){$("#slide_bar").stop().animate({right:"0"},500).removeClass("bar")}),$(".slide_content").stop().animate({right:"-550px"},500,function(){$(".slide_content").stop().animate({right:"-350px"},500)}),f=!0)}),$("#slide_bar").stop().animate({right:"-200px"},500,function(){$("#slide_bar").stop().animate({right:"349px"},500).addClass("bar")}),$(".slide_content").stop().animate({right:"-550px"},500,function(){$(".slide_content").stop().animate({right:"0"},500)})}};startMoveHandler={startMoveEvent:function(a,b,c,d){clearInterval(a.timer),a.timer=setInterval(function(){c+=(b-a.offsetLeft)/10,c*=.7,d+=c,Math.abs(c)<1&&Math.abs(d-b)<1?(clearInterval(a.timer),a.style.left=b+"px"):a.style.left=d+"px"},30)}},b.controller("calresultCtrl",["$scope","$http",function(){k.init()}])}();