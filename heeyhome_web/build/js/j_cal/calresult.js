/*! Pc.Heigh-ho.Renovation-1.0.0.js 2017-01-22 */
!function(){function a(a){var b=new RegExp("(^|&)"+a+"=([^&]*)(&|$)"),c=window.location.hash.split("?")[1].match(b);return null!=c?unescape(c[2]):null}var b=angular.module("heeyhomeApp"),c="http://www.heeyhome.com/api/public/costcalculator/result/collect",d=$.cookie("userId");d=null!=d&&""!=d&&void 0!=d?$.base64.decode(d):"";var e={};(void 0!=sessionStorage.payJson||null!=sessionStorage.payJson)&&(e=JSON.parse(sessionStorage.payJson));var f=decodeURI(escape(a("cs"))),g=a("mj"),h=a("fj"),i=a("kt"),j=a("wsj"),k=a("yt"),l={init:function(){l.initEvent()},initEvent:function(){var a=this;a.initDataEvent(),a.initClickCollectionEvent(),a.initSlideEvent()},initDataEvent:function(){"{}"!=JSON.stringify(e)&&$.each(e,function(a,b){$("."+a).prepend(parseFloat(b).toFixed(2))})},initClickCollectionEvent:function(){$(document).on("click",".cr_collection",function(){var a={};a=e,a.city=f,a.area=g,a.room_num=h,a.parlor_num=i,a.bathroom_num=j,a.balcony_num=k,console.log(a),$.ajax({url:c,type:"GET",async:!0,dataType:"jsonp",data:{user_id:d,calculator_result_json:JSON.stringify(a)},success:function(a){layer.alert(a.msg)},error:function(){}})})},initSlideEvent:function(){var a=$(window).height();if(console.log(a),736!=a){var b=$("#slide_bar div");$.each(b,function(){$(this).css("height",parseFloat($(this).css("height"))*a/735)}),$(".wcontent_title").css("backgroundPosition","15px "+90*a/735+"px"),a>736?$(".wcontent_title span").css({marginTop:"20px",position:"absolute"}):$(".wcontent_title span").css("fontSize","12px")}$(".sl_wcontent").hover(function(){var a=$(this).find("a"),b=-102;a.show().css({left:b-20+"px"}).stop().animate({left:b},500)},function(){$(this).find("a").hide()}).click(function(a){var b=$(this).parents("#slide_bar");$(this).hasClass("sl_wcontentActive")?($(this).removeClass("sl_wcontentActive"),b.next(".slide_content").stop().animate({right:"-300px"},500),b.stop().animate({right:"0"},500),b.parents("#slide_bar").next(".slide_content").children(".slide_contentWrap").hide()):($(this).addClass("sl_wcontentActive").siblings().removeClass("sl_wcontentActive"),b.next(".slide_content").stop().animate({right:"0"},500),b.stop().animate({right:"300px"},500),b.next(".slide_content").children(".slide_contentWrap").hide().eq($(this).index()).fadeIn(1500).removeClass("hide")),a.stopPropagation()}),$(".content_materials").click(function(a){var b=$(".content_materials").index($(this)),c=$(this).parents("#crcontainer").next("#slide_bar"),d=c.find(".sl_wcontent");d.removeClass("sl_wcontentActive"),d.eq(b).addClass("sl_wcontentActive"),c.next(".slide_content").stop().animate({right:"0"},500),c.stop().animate({right:"300px"},500),c.next(".slide_content").children(".slide_contentWrap").hide().eq(b).fadeIn(1500).removeClass("hide"),a.stopPropagation()}),$("body").click(function(){$(".slide_content").stop().animate({right:"-300px"},500),$("#slide_bar").stop().animate({right:"0"},500),$(".sl_wcontent").removeClass("sl_wcontentActive")}),$(".slide_content").click(function(a){a.stopPropagation()})}};b.controller("calresultCtrl",["$scope","$http",function(){l.init()}])}();