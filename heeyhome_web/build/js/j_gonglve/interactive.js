/*! Pc.Heigh-ho.Renovation-1.0.0.js 2017-03-23 */
!function(){var a,b=angular.module("heeyhomeApp"),c=window.location.hash,d=(c.substring(12,c.length),"/api/public/jzbk/cate?callback=JSON_CALLBACK"),e="/api/public/jzbk/article?callback=JSON_CALLBACK",f="/api/public/jzbk/scan",g={init:function(){g.initEvent()},initEvent:function(){var a=this;a.initNavHeadeEvent()},initNavHeadeEvent:function(){b.controller("myGonglve",["$scope","$http",function(a,b){b({method:"JSONP",url:d}).success(function(b){"000"===b.code?(navHeadeClickHendler.myArticleEvent(b.data[0].id),a.names=b.data,sessionStorage.setItem("describe",b.data[0].cate_describe),sessionStorage.setItem("name",b.data[0].cate_name)):layer.alert(b.msg)}).error(function(){}),$(document).on("click",".bar_list",function(){var a=$(this).attr("id"),b=$(this).attr("describe"),c=$(this).attr("name");sessionStorage.setItem("describe",b),sessionStorage.setItem("name",c),navHeadeClickHendler.myArticleEvent(a),$("#"+a).addClass("active").siblings().removeClass("active")})}])}};navHeadeClickHendler={myArticleEvent:function(b){var c='<div class="loading"><img src="image/icon-loading.gif"></div>';$.ajax({url:e,type:"GET",async:!0,dataType:"jsonp",data:{cate_id:b,page:1,limit:3},beforeSend:function(){$(".right_wrap").append(c),$(".right_wrap .loading").css("left","55%"),$(".rightDetail").remove()},complete:function(){$(".right_wrap .loading").remove()},success:function(c){c&&"000"==c.code&&(a=c.data[0].total,splicePicHandler.spliceStrEvent(c.data),gonglvePageHandler.pageContentEvent(b),viewPlus.addView())},error:function(a){layer.alert(a.msg)}})}},viewPlus={addView:function(){$(".rightDetail").on("click",function(){var a=$(this).attr("rid"),b=$(this).find(".icon_people");$.ajax({type:"get",url:f,async:!0,dataType:"jsonp",data:{id:a},success:function(a){a&&"000"==a.code?b.html(a.data.scan++):layer.alert(a.msg)},error:function(){}})})}},gonglvePageHandler={pageContentEvent:function(b){$(".page_number>div").append($(".page_div3").empty().paging({total:Math.ceil(a/3),animation:!1,centerBgColor:"#fff",centerFontColor:"#000",centerBorder:"1px solid #ddd",transition:"all .2s",centerHoverBgColor:"#eec988",centerHoverBorder:"1px solid #eec988",centerFontHoverColor:"#fff",otherFontHoverColor:"#fff",otherBorder:"1px solid #ddd",otherHoverBorder:"1px solid #eec988",otherBgColor:"#fff",otherHoverBgColor:"#eec988",currentFontColor:"#fff",currentBgColor:"#eec988",currentBorder:"1px solid #eec988",fontSize:13,currentFontSize:13,cormer:2,gapWidth:3,showJump:!0,jumpBgColor:"#fff",jumpFontHoverColor:"#fff",jumpHoverBgColor:"#eec988",jumpBorder:"1px solid #ddd",jumpHoverBorder:"1px solid #eec988",submitType:"get",idParameter:"page",url:e,ajaxData:{cate_id:b,page:1,limit:3},dataOperate:function(a){splicePicHandler.spliceStrEvent(a.data),viewPlus.addView()}}))}},splicePicHandler={spliceStrEvent:function(a){var b="";$.each(a,function(a,c){b+='<div class="rightDetail" rid="'+c.id+'">',b+='<a class="right_detail clearfix" href="gonglve_detail.html#/detail?id='+c.id+'" target="_blank">',b+='\t<div class="right_img">',b+='\t\t<img src="'+c.img+'">',b+='\t\t<div class="img_background_1"></div>',b+='\t\t<div class="img_background_2"></div>',b+="\t</div><!--right_img-->",b+='\t<div class="detail_content">',b+='\t\t<div class="detail_title">'+c.article_title+"</div><!--detail_title-->",b+='\t\t\t<div class="detail_des">',b+='\t\t\t<div id="detail_p">'+c.article_content+"</div>",b+='\t\t\t<div class="detail_bro">',b+='\t\t\t<i class="iconfont">&#xe631;</i><span class="icon_time">'+c.add_time+"</span>",b+='\t\t\t<i class="iconfont icon_eye">&#xe620;</i><span class="icon_people">'+c.scan+"</span>",b+="\t\t\t</div><!--detail_bro-->",b+="\t\t\t</div><!--detail_des-->",b+="\t\t\t</div><!--detail_content-->",b+="\t\t\t</a><!--right_detail-->",b+="\t\t\t</div>"}),$(".right_wrap").html(b)}},g.init()}();