/*! Pc.Heigh-ho.Renovation-1.0.0.js 2017-03-23 */
define(["app","base64","cookie"],function(a){!function(){var b="/api/public/",c=b+"personal/portrait",d={init:function(){d.initEvent()},initEvent:function(){var a=this;a.initNavigationSelectEvent(),a.searchBoxClickEvent(),a.myHeeyHomeEvent(),a.getUserDataEvent()},initNavigationSelectEvent:function(){var a=$("#header").parents("div"),b=a.attr("id");"index_header"!=b&&$("#"+b).find("#menuNavPanel").remove()},searchBoxClickEvent:function(){$("#c_search_text").on({focus:function(){var a=$(this),b=a.attr("attr-placeholder");a.val()==b&&a.val(""),$(".c_searchpop").show()},blur:function(){var a=$(this),b=a.attr("attr-placeholder");""==a.val()&&a.val(b),$(".c_searchpop").hide()}})},myHeeyHomeEvent:function(){$("#c_myhh").hover(function(){$(this).children("a").addClass("item_hover_180"),$(this).children("div").css("height","112px"),$(this).addClass("open")},function(){$(this).children("a").removeClass("item_hover_180"),$(this).children("div").css("height","0px"),$(this).removeClass("open")})},getUserDataEvent:function(){var a=$.cookie("userName"),b=$.cookie("userType"),c=$.base64.decode($.cookie("userId")),d=$("#topLogin").html(),e=$(".userinfo p").html();if(null!=a&&""!=a){if(1==$.base64.decode(b)){var f='<a class="user_information" rel="nofollow" href="center.html#/center" >'+unescape($.base64.decode(a))+'</a><span>，您好 </span><span class="exit">退出</span>',g='<a class="uinfo" href="center.html#/center"><span>'+unescape($.base64.decode(a))+"</span></a>",h='<span><a rel="nofollow" href="center.html#/center/morder">我的订单</a><a rel="nofollow" href="center.html#/center/mcollection">我的收藏</a></span><span><a rel="nofollow" href="center.html#/center/mdata">我的信息</a><a rel="nofollow" href="center.html#/center/setting">安全中心</a></span>';$("#c_news a").attr("href","center.html#/center/msgcenter"),getAvatarEvent.userImg(c)}else if(2==$.base64.decode(b)){var f='<a class="user_information" rel="nofollow" href="master.html#/master" >'+unescape($.base64.decode(a))+'</a><span>，您好 </span><span class="exit">退出</span>',g='<a class="uinfo" href="master.html#/master"><span>'+unescape($.base64.decode(a))+"</span></a>",h='<span><a rel="nofollow" href="master.html#/master/morder">我的订单</a><a rel="nofollow" href="master.html#/master/mteam">我的团队</a></span><span><a rel="nofollow" href="master.html#/master/mdata">我的信息</a><a rel="nofollow" href="master.html#/master/mwallet">我的钱包</a></span>';$("#c_news a").attr("href","master.html#/master/msginfo"),getAvatarEvent.userImg(c)}cloneHtmlHendler.loginClone(f,g,h),$(".exit").on("click",function(){cloneHtmlHendler.loginClone(d,e),$.cookie("userId",null,{expires:-1,path:"/"}),$.cookie("userName",null,{expires:-1,path:"/"}),$.cookie("userType",null,{expires:-1,path:"/"}),window.location.href="http://www.heeyhome.com/"})}}};cloneHtmlHendler={loginClone:function(a,b,c){$("#topLogin").empty().append(a),$(".userinfo p").empty().append(b),$(".myinfo").html(c)}},getAvatarEvent={userImg:function(a){$.ajax({type:"get",url:c,async:!0,dataType:"jsonp",data:{user_id:a},success:function(a){a&&"000"==a.code&&($(".userImg").css("background","url("+a.data.user_img+") no-repeat"),$(".userImg").css("background-size","100% 100%"))},error:function(){}})}},a.headerWrapHandler=function(){d.init()}}()});